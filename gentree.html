<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>gentree</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library gentree</h1>

<div class="code">

<br/>

<br/>
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Coq.Program.Equality</span>. <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">PeanoNat</span>. 
<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">gen</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">genT</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">ddT</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">dd_fc</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">rtcT</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">gstep</span>.<br/>

<br/>
</div>

<div class="doc">
conditions for inductive proofs for a tree 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">gen_step_tr</span> <span class="id" title="var">W</span> <span class="id" title="var">rules</span> <span class="id" title="var">fty</span> <span class="id" title="var">P</span> (<span class="id" title="var">A</span> : <span class="id" title="var">fty</span>) <span class="id" title="var">sub</span> <br/>
&nbsp;&nbsp;(<span class="id" title="var">dt</span> : @<span class="id" title="var">derrec_fc</span> <span class="id" title="var">W</span> <span class="id" title="var">rules</span> <span class="id" title="var">emptyT</span>) :=<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">A'</span> : <span class="id" title="var">fty</span>, <span class="id" title="var">sub</span> <span class="id" title="var">A'</span> <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">forall</span> <span class="id" title="var">d</span>, <span class="id" title="var">P</span> <span class="id" title="var">A'</span> <span class="id" title="var">d</span>) -&gt;<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">dtn</span>, <span class="id" title="var">in_nextup_fc</span> <span class="id" title="var">dtn</span> <span class="id" title="var">dt</span> -&gt; <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">dtn</span>) -&gt; <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">dt</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">gen_step_c</span> <span class="id" title="var">W</span> <span class="id" title="var">rules</span> <span class="id" title="var">fty</span> (<span class="id" title="var">P</span> : <span class="id" title="var">fty</span> -&gt; <span class="id" title="var">W</span> -&gt; <span class="id" title="keyword">Type</span>) <span class="id" title="var">A</span> <span class="id" title="var">sub</span> <span class="id" title="var">c</span> <br/>
&nbsp;&nbsp;(<span class="id" title="var">dt</span> : <span class="id" title="var">derrec</span> <span class="id" title="var">rules</span> <span class="id" title="var">emptyT</span> <span class="id" title="var">c</span>) :=<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">A'</span> : <span class="id" title="var">fty</span>, <span class="id" title="var">sub</span> <span class="id" title="var">A'</span> <span class="id" title="var">A</span> -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">c</span> (<span class="id" title="var">d</span> : <span class="id" title="var">derrec</span> <span class="id" title="var">rules</span> <span class="id" title="var">emptyT</span> <span class="id" title="var">c</span>), <span class="id" title="var">P</span> <span class="id" title="var">A'</span> <span class="id" title="var">c</span>) -&gt;<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">cn</span> (<span class="id" title="var">dtn</span> : <span class="id" title="var">derrec</span> <span class="id" title="var">rules</span> <span class="id" title="var">emptyT</span> <span class="id" title="var">cn</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">in_nextup</span> <span class="id" title="var">dtn</span> <span class="id" title="var">dt</span> -&gt; <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">cn</span>) -&gt; <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">c</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">gf2_step_tr</span> <span class="id" title="var">W</span> <span class="id" title="var">fty</span> (<span class="id" title="var">P</span> : <span class="id" title="var">fty</span> -&gt; <span class="id" title="var">W</span> -&gt; <span class="id" title="keyword">Type</span>) <span class="id" title="var">A</span> <span class="id" title="var">sub</span> <span class="id" title="var">dtsr</span> <span class="id" title="var">dts</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;((<span class="id" title="keyword">forall</span> <span class="id" title="var">A'</span>, <span class="id" title="var">sub</span> <span class="id" title="var">A'</span> <span class="id" title="var">A</span> -&gt; (<span class="id" title="keyword">forall</span> <span class="id" title="var">dts</span>, <span class="id" title="var">AccT</span> <span class="id" title="var">dtsr</span> <span class="id" title="var">dts</span> -&gt; <span class="id" title="var">P</span> <span class="id" title="var">A'</span> <span class="id" title="var">dts</span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">dts'</span>, <span class="id" title="var">dtsr</span> <span class="id" title="var">dts'</span> <span class="id" title="var">dts</span> -&gt; <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">dts'</span>) -&gt; <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">dts</span>).<br/>

<br/>
</div>

<div class="doc">
results linking the conditions for inductive proofs for a tree 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">gs_gsc</span> <span class="id" title="var">W</span> <span class="id" title="var">fty</span> <span class="id" title="var">rules</span> <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">sub</span> (<span class="id" title="var">c</span> : <span class="id" title="var">W</span>) (<span class="id" title="var">dt</span> : <span class="id" title="var">derrec</span> <span class="id" title="var">rules</span> <span class="id" title="var">emptyT</span> <span class="id" title="var">c</span>):<br/>
&nbsp;&nbsp;<span class="id" title="var">iffT</span> (@<span class="id" title="var">gen_step</span> <span class="id" title="var">W</span> <span class="id" title="var">fty</span> <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">sub</span> (<span class="id" title="var">derrec</span> <span class="id" title="var">rules</span> <span class="id" title="var">emptyT</span>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">map</span> (@<span class="id" title="var">derrec_fc_concl</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (<span class="id" title="var">nextup</span> (<span class="id" title="var">fcI</span> <span class="id" title="var">dt</span>))) <span class="id" title="var">c</span>)<br/>
&nbsp;&nbsp;(@<span class="id" title="var">gen_step_c</span> <span class="id" title="var">W</span> <span class="id" title="var">rules</span> <span class="id" title="var">fty</span> <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">sub</span> <span class="id" title="var">c</span> <span class="id" title="var">dt</span>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">gen_step</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">gen_step_c</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">pair</span> ; <span class="id" title="tactic">intros</span>.<br/>
- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">X</span> <span class="id" title="var">X0</span>). <span class="id" title="tactic">clear</span> <span class="id" title="var">X0</span>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">X</span>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">ForallTI_forall</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">inmn</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">InT_mapE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">inmn</span>. <span class="id" title="var">cD</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">split</span>.<br/>
+  <span class="id" title="tactic">apply</span> <span class="id" title="var">der_der_fc</span>.<br/>
+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">inmn</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">nextup_in_nu</span> <span class="id" title="tactic">in</span> <span class="id" title="var">inmn1</span>.<br/>
<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">der_concl_eq</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">X1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">inmn1</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">inmn1</span>.<br/>
+ <span class="id" title="tactic">exact</span> <span class="id" title="var">dt</span>.<br/>
- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">X</span> <span class="id" title="var">X0</span>). <span class="id" title="tactic">clear</span> <span class="id" title="var">X0</span>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">X</span>.<br/>
<span class="id" title="tactic">intros</span> * <span class="id" title="var">inn</span>.<br/>
<span class="id" title="tactic">eapply</span> <span class="id" title="var">ForallTD_forall</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X1</span>. <span class="id" title="var">cD</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">X0</span>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">in_nextup_nu</span> <span class="id" title="tactic">in</span> <span class="id" title="var">inn</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">InT_mapI</span>.<br/>
<span class="id" title="tactic">exists</span> (<span class="id" title="var">fcI</span> <span class="id" title="var">dtn</span>). <span class="id" title="tactic">split</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">der_concl_eq</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="tactic">exact</span> <span class="id" title="var">inn</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">gstr_gf2</span> <span class="id" title="var">W</span> <span class="id" title="var">rules</span> <span class="id" title="var">fty</span> <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">sub</span> (<span class="id" title="var">dt</span> : @<span class="id" title="var">derrec_fc</span> <span class="id" title="var">W</span> <span class="id" title="var">rules</span> <span class="id" title="var">emptyT</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">iffT</span> (@<span class="id" title="var">gen_step_tr</span> <span class="id" title="var">W</span> <span class="id" title="var">rules</span> <span class="id" title="var">fty</span> <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">sub</span> <span class="id" title="var">dt</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id" title="var">gf2_step_tr</span> <span class="id" title="var">_</span> <span class="id" title="var">fty</span> <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">sub</span> (@<span class="id" title="var">in_nextup_fc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">dt</span>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">gen_step_tr</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">gf2_step_tr</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">pair</span> ; <span class="id" title="tactic">intros</span>.<br/>
- <span class="id" title="tactic">pose</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">A'</span> <span class="id" title="var">saa</span> <span class="id" title="var">dts</span> =&gt; <span class="id" title="var">X0</span> <span class="id" title="var">A'</span> <span class="id" title="var">saa</span> <span class="id" title="var">dts</span> (<span class="id" title="var">AccT_in_nextup_fc</span> <span class="id" title="var">dts</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">X0'</span>.<br/>
<span class="id" title="tactic">exact</span> (<span class="id" title="var">X</span> <span class="id" title="var">X0'</span> <span class="id" title="var">X1</span>).<br/>
- <span class="id" title="var">revert</span> <span class="id" title="var">X1</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">X0</span> <span class="id" title="var">A'</span> <span class="id" title="var">X1</span>). <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">gsc_gstr</span> <span class="id" title="var">W</span> <span class="id" title="var">rules</span> <span class="id" title="var">fty</span> <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">sub</span> <span class="id" title="var">c</span> <span class="id" title="var">dt</span>:<br/>
&nbsp;&nbsp;<span class="id" title="var">iffT</span> (@<span class="id" title="var">gen_step_c</span> <span class="id" title="var">W</span> <span class="id" title="var">rules</span> <span class="id" title="var">fty</span> <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">sub</span> <span class="id" title="var">c</span> <span class="id" title="var">dt</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id" title="var">gen_step_tr</span> <span class="id" title="var">W</span> <span class="id" title="var">rules</span> <span class="id" title="var">fty</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">A'</span> <span class="id" title="var">d</span> =&gt; <span class="id" title="var">P</span> <span class="id" title="var">A'</span> (<span class="id" title="var">derrec_fc_concl</span> <span class="id" title="var">d</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">A</span> : <span class="id" title="var">fty</span>) <span class="id" title="var">sub</span> (<span class="id" title="var">fcI</span> <span class="id" title="var">dt</span>)).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">gen_step_tr</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">gen_step_c</span>. <span class="id" title="tactic">simpl</span>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">pair</span> ; <span class="id" title="tactic">intros</span>.<br/>
- <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">der_concl_eq</span> <span class="id" title="var">dt</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">X</span>.<br/>
+ <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">X0</span> <span class="id" title="var">A'</span> <span class="id" title="var">X2</span> (<span class="id" title="var">fcI</span> <span class="id" title="var">d</span>)). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>.<br/>
<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">der_concl_eq</span> <span class="id" title="var">d</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">X0</span>.<br/>
+ <span class="id" title="tactic">intros</span> * <span class="id" title="var">inn</span>.<br/>
<span class="id" title="tactic">specialize</span> (<span class="id" title="var">X1</span> (<span class="id" title="var">fcI</span> <span class="id" title="var">dtn</span>)). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X1</span>.<br/>
<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">der_concl_eq</span> <span class="id" title="var">dtn</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">X1</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">X1</span>.<br/>
<span class="id" title="tactic">exact</span> (<span class="id" title="var">in_nextup_fcI</span> <span class="id" title="var">inn</span>).<br/>
- <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">der_concl_eq</span> <span class="id" title="var">dt</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">X</span>.<br/>
+ <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">X0</span> <span class="id" title="var">A'</span> <span class="id" title="var">X2</span>).<br/>
<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">der_concl_eq</span> <span class="id" title="var">d</span>). <span class="id" title="tactic">exact</span> <span class="id" title="var">d</span>.<br/>
+ <span class="id" title="tactic">intros</span> <span class="id" title="var">dtn</span> <span class="id" title="var">inn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">dtn</span>.<br/>
<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">der_concl_eq</span> <span class="id" title="var">d</span>).<br/>
<span class="id" title="tactic">apply</span> (<span class="id" title="var">X1</span> <span class="id" title="var">concl</span> <span class="id" title="var">d</span>). <span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">inn</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">i</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Check</span> <span class="id" title="var">gs_gsc</span>. <span class="id" title="keyword">Check</span> <span class="id" title="var">gsc_gstr</span>. <span class="id" title="keyword">Check</span> <span class="id" title="var">gstr_gf2</span>.<br/>

<br/>
</div>

<div class="doc">
lemmas enabling inductive proofs for a tree 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">gen_step_c_lem</span> <span class="id" title="var">W</span> <span class="id" title="var">rules</span> <span class="id" title="var">fty</span> (<span class="id" title="var">P</span> : <span class="id" title="var">fty</span> -&gt; <span class="id" title="var">W</span> -&gt; <span class="id" title="keyword">Type</span>) <span class="id" title="var">A</span> <span class="id" title="var">sub</span> : <span class="id" title="var">AccT</span> <span class="id" title="var">sub</span> <span class="id" title="var">A</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">A</span> <span class="id" title="var">c</span> <span class="id" title="var">dt</span>, @<span class="id" title="var">gen_step_c</span> <span class="id" title="var">W</span> <span class="id" title="var">rules</span> <span class="id" title="var">fty</span> <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">sub</span> <span class="id" title="var">c</span> <span class="id" title="var">dt</span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">c</span> (<span class="id" title="var">dt</span> : <span class="id" title="var">derrec</span> <span class="id" title="var">rules</span> <span class="id" title="var">emptyT</span> <span class="id" title="var">c</span>), <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">c</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">acc</span> <span class="id" title="var">gs</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">acc</span>.<br/>
<span class="id" title="tactic">eapply</span> <span class="id" title="var">derrec_all_rect</span>.<br/>
<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="tactic">unfold</span> <span class="id" title="var">gen_step_c</span> <span class="id" title="tactic">in</span> <span class="id" title="var">gs</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">ps</span> <span class="id" title="var">concl</span> <span class="id" title="var">rpc</span> <span class="id" title="var">drs</span> <span class="id" title="var">fps</span>.<br/>
<span class="id" title="tactic">pose</span> (<span class="id" title="var">derI</span> <span class="id" title="var">_</span> <span class="id" title="var">rpc</span> <span class="id" title="var">drs</span>).<br/>
<span class="id" title="tactic">specialize</span> (<span class="id" title="var">gs</span> <span class="id" title="var">x</span> <span class="id" title="var">concl</span> <span class="id" title="var">d</span> <span class="id" title="var">X</span>).<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">gs</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">gs</span> <span class="id" title="var">a</span> <span class="id" title="var">X</span>.<br/>
<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">ForallTD_forall</span> <span class="id" title="tactic">in</span> <span class="id" title="var">fps</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">fps</span>.<br/>
<span class="id" title="tactic">exact</span> (<span class="id" title="var">in_nextup_concl_in</span> <span class="id" title="var">X</span>). <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">gen_step_tr_lem</span> <span class="id" title="var">W</span> <span class="id" title="var">rules</span> <span class="id" title="var">fty</span> <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">sub</span> : <span class="id" title="var">AccT</span> <span class="id" title="var">sub</span> <span class="id" title="var">A</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">A</span> <span class="id" title="var">dt</span>, @<span class="id" title="var">gen_step_tr</span> <span class="id" title="var">W</span> <span class="id" title="var">rules</span> <span class="id" title="var">fty</span> <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">sub</span> <span class="id" title="var">dt</span>) -&gt; <span class="id" title="keyword">forall</span> <span class="id" title="var">dt</span>, <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">dt</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">acc</span> <span class="id" title="var">gs</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">acc</span>.<br/>
<span class="id" title="tactic">unfold</span> <span class="id" title="var">gen_step_tr</span> <span class="id" title="tactic">in</span> <span class="id" title="var">gs</span>.<br/>
<span class="id" title="tactic">pose</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">dt</span> =&gt; <span class="id" title="var">gs</span> <span class="id" title="var">x</span> <span class="id" title="var">dt</span> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">p</span>.<br/>
<span class="id" title="tactic">intro</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">dt</span>. <span class="id" title="var">revert</span> <span class="id" title="var">d</span>. <span class="id" title="var">revert</span> <span class="id" title="var">concl</span>.<br/>
<span class="id" title="tactic">eapply</span> <span class="id" title="var">derrec_rect_mut_all</span>.<br/>
- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p0</span>.<br/>
- <span class="id" title="tactic">intros</span> * <span class="id" title="var">apd</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">nextup</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">dtn</span> <span class="id" title="var">ind</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">dtn</span>.<br/>
<span class="id" title="tactic">exact</span> (<span class="id" title="var">allP_all_in_d</span> <span class="id" title="var">apd</span> (<span class="id" title="var">in_trees_drs</span> <span class="id" title="var">d</span> (<span class="id" title="var">in_nextup_fc_nu</span> <span class="id" title="var">ind</span>))). <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">gf2_step_tr_lem</span> <span class="id" title="var">W</span> <span class="id" title="var">fty</span> (<span class="id" title="var">P</span> : <span class="id" title="var">fty</span> -&gt; <span class="id" title="var">W</span> -&gt; <span class="id" title="keyword">Type</span>) <span class="id" title="var">A</span> <span class="id" title="var">sub</span> <span class="id" title="var">dtsr</span> :<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">A</span> <span class="id" title="var">dts</span>, <span class="id" title="var">gf2_step_tr</span> <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">sub</span> <span class="id" title="var">dtsr</span> <span class="id" title="var">dts</span>) -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">AccT</span> <span class="id" title="var">sub</span> <span class="id" title="var">A</span> -&gt; (<span class="id" title="keyword">forall</span> <span class="id" title="var">dts</span>, <span class="id" title="var">AccT</span> <span class="id" title="var">dtsr</span> <span class="id" title="var">dts</span> -&gt; <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">dts</span>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">gs</span> <span class="id" title="var">acc</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">acc</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">dts</span> <span class="id" title="var">add</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">add</span>.<br/>
<span class="id" title="tactic">unfold</span> <span class="id" title="var">gf2_step_tr</span> <span class="id" title="tactic">in</span> <span class="id" title="var">gs</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">gs</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">X</span> <span class="id" title="var">X0</span>). <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Check</span> <span class="id" title="var">gstep.gen_step_lemT</span>.<br/>
<span class="id" title="keyword">Check</span> <span class="id" title="var">gen_step_c_lem</span>. <span class="id" title="keyword">Check</span> <span class="id" title="var">gen_step_tr_lem</span>. <span class="id" title="keyword">Check</span> <span class="id" title="var">gf2_step_tr_lem</span>.<br/>

<br/>
</div>

<div class="doc">
conditions for inductive proofs for two trees 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">dt2fun</span> <span class="id" title="var">fty</span> <span class="id" title="var">U</span> <span class="id" title="var">W</span> <span class="id" title="var">rlsa</span> <span class="id" title="var">rlsb</span> (<span class="id" title="var">P</span> : <span class="id" title="var">fty</span> -&gt; <span class="id" title="var">U</span> -&gt; <span class="id" title="var">W</span> -&gt; <span class="id" title="keyword">Type</span>) (<span class="id" title="var">A</span> : <span class="id" title="var">fty</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">da</span> : @<span class="id" title="var">derrec_fc</span> <span class="id" title="var">U</span> <span class="id" title="var">rlsa</span> <span class="id" title="var">emptyT</span>) (<span class="id" title="var">db</span> : @<span class="id" title="var">derrec_fc</span> <span class="id" title="var">W</span> <span class="id" title="var">rlsb</span> <span class="id" title="var">emptyT</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">P</span> <span class="id" title="var">A</span> (<span class="id" title="var">derrec_fc_concl</span> <span class="id" title="var">da</span>) (<span class="id" title="var">derrec_fc_concl</span> <span class="id" title="var">db</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">gen_step2_tr</span> <span class="id" title="var">U</span> <span class="id" title="var">W</span> <span class="id" title="var">rulesa</span> <span class="id" title="var">rulesb</span> <span class="id" title="var">fty</span> <span class="id" title="var">P</span> (<span class="id" title="var">A</span> : <span class="id" title="var">fty</span>) <span class="id" title="var">sub</span> <br/>
&nbsp;&nbsp;(<span class="id" title="var">dta</span> : @<span class="id" title="var">derrec_fc</span> <span class="id" title="var">U</span> <span class="id" title="var">rulesa</span> <span class="id" title="var">emptyT</span>) (<span class="id" title="var">dtb</span> : @<span class="id" title="var">derrec_fc</span> <span class="id" title="var">W</span> <span class="id" title="var">rulesb</span> <span class="id" title="var">emptyT</span>) :=<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">A'</span> : <span class="id" title="var">fty</span>, <span class="id" title="var">sub</span> <span class="id" title="var">A'</span> <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">forall</span> <span class="id" title="var">da</span> <span class="id" title="var">db</span>, <span class="id" title="var">P</span> <span class="id" title="var">A'</span> <span class="id" title="var">da</span> <span class="id" title="var">db</span>) -&gt;<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">dtna</span>, <span class="id" title="var">in_nextup_fc</span> <span class="id" title="var">dtna</span> <span class="id" title="var">dta</span> -&gt; <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">dtna</span> <span class="id" title="var">dtb</span>) -&gt;<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">dtnb</span>, <span class="id" title="var">in_nextup_fc</span> <span class="id" title="var">dtnb</span> <span class="id" title="var">dtb</span> -&gt; <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtnb</span>) -&gt; <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">gen_step2_c</span> <span class="id" title="var">U</span> <span class="id" title="var">W</span> <span class="id" title="var">rulesa</span> <span class="id" title="var">rulesb</span> <span class="id" title="var">fty</span> <br/>
&nbsp;&nbsp;(<span class="id" title="var">P</span> : <span class="id" title="var">fty</span> -&gt; <span class="id" title="var">U</span> -&gt; <span class="id" title="var">W</span> -&gt; <span class="id" title="keyword">Type</span>) (<span class="id" title="var">A</span> : <span class="id" title="var">fty</span>) <span class="id" title="var">sub</span> <span class="id" title="var">ca</span> <span class="id" title="var">cb</span><br/>
&nbsp;&nbsp;(<span class="id" title="var">dta</span> : <span class="id" title="var">derrec</span> <span class="id" title="var">rulesa</span> <span class="id" title="var">emptyT</span> <span class="id" title="var">ca</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">dtb</span> : <span class="id" title="var">derrec</span> <span class="id" title="var">rulesb</span> <span class="id" title="var">emptyT</span> <span class="id" title="var">cb</span>) :=<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">A'</span> : <span class="id" title="var">fty</span>, <span class="id" title="var">sub</span> <span class="id" title="var">A'</span> <span class="id" title="var">A</span> -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">ca</span> (<span class="id" title="var">dta</span> : <span class="id" title="var">derrec</span> <span class="id" title="var">rulesa</span> <span class="id" title="var">emptyT</span> <span class="id" title="var">ca</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cb</span> (<span class="id" title="var">dtb</span> : <span class="id" title="var">derrec</span> <span class="id" title="var">rulesb</span> <span class="id" title="var">emptyT</span> <span class="id" title="var">cb</span>), <span class="id" title="var">P</span> <span class="id" title="var">A'</span> <span class="id" title="var">ca</span> <span class="id" title="var">cb</span>) -&gt;<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">cp</span> (<span class="id" title="var">dtp</span> : <span class="id" title="var">derrec</span> <span class="id" title="var">rulesa</span> <span class="id" title="var">emptyT</span> <span class="id" title="var">cp</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">in_nextup</span> <span class="id" title="var">dtp</span> <span class="id" title="var">dta</span> -&gt; <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">cp</span> <span class="id" title="var">cb</span>) -&gt;<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">cq</span> (<span class="id" title="var">dtq</span> : <span class="id" title="var">derrec</span> <span class="id" title="var">rulesb</span> <span class="id" title="var">emptyT</span> <span class="id" title="var">cq</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">in_nextup</span> <span class="id" title="var">dtq</span> <span class="id" title="var">dtb</span> -&gt; <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">ca</span> <span class="id" title="var">cq</span>) -&gt; <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">ca</span> <span class="id" title="var">cb</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">gf_step2_tr</span> <span class="id" title="var">U</span> <span class="id" title="var">W</span> <span class="id" title="var">fty</span> (<span class="id" title="var">P</span> : <span class="id" title="var">fty</span> -&gt; <span class="id" title="var">U</span> -&gt; <span class="id" title="var">W</span> -&gt; <span class="id" title="keyword">Type</span>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">A</span> <span class="id" title="var">sub</span> <span class="id" title="var">gfl</span> <span class="id" title="var">gfr</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span> :=<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">A'</span>, <span class="id" title="var">sub</span> <span class="id" title="var">A'</span> <span class="id" title="var">A</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>, <span class="id" title="var">AccT</span> <span class="id" title="var">gfl</span> <span class="id" title="var">a</span> -&gt; <span class="id" title="var">AccT</span> <span class="id" title="var">gfr</span> <span class="id" title="var">b</span> -&gt; <span class="id" title="var">P</span> <span class="id" title="var">A'</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>) -&gt;<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">dtp</span>, <span class="id" title="var">gfl</span> <span class="id" title="var">dtp</span> <span class="id" title="var">dta</span> -&gt; <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">dtp</span> <span class="id" title="var">dtb</span>) -&gt;<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">dtq</span>, <span class="id" title="var">gfr</span> <span class="id" title="var">dtq</span> <span class="id" title="var">dtb</span> -&gt; <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtq</span>) -&gt; <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">sum_step2_tr</span> <span class="id" title="var">U</span> <span class="id" title="var">W</span> <span class="id" title="var">fty</span> (<span class="id" title="var">P</span> : <span class="id" title="var">fty</span> -&gt; <span class="id" title="var">U</span> -&gt; <span class="id" title="var">W</span> -&gt; <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">A</span> <span class="id" title="var">sub</span> <span class="id" title="var">gsl</span> <span class="id" title="var">gsr</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span> :=<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">A'</span>, <span class="id" title="var">sub</span> <span class="id" title="var">A'</span> <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">forall</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>, <span class="id" title="var">P</span> <span class="id" title="var">A'</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>) -&gt;<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">dta'</span> <span class="id" title="var">dtb'</span>, <span class="id" title="var">gsl</span> <span class="id" title="var">dta'</span> + <span class="id" title="var">gsr</span> <span class="id" title="var">dtb'</span> &lt; <span class="id" title="var">gsl</span> <span class="id" title="var">dta</span> + <span class="id" title="var">gsr</span> <span class="id" title="var">dtb</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">dta'</span> <span class="id" title="var">dtb'</span>) -&gt; <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span>.<br/>

<br/>
</div>

<div class="doc">
results linking the conditions for intudtive proofs for two trees 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">gs2_gs2c</span> <span class="id" title="var">U</span> <span class="id" title="var">W</span> <span class="id" title="var">rulesa</span> <span class="id" title="var">rulesb</span> <span class="id" title="var">fty</span> <span class="id" title="var">P</span> (<span class="id" title="var">A</span> : <span class="id" title="var">fty</span>) <span class="id" title="var">sub</span> <span class="id" title="var">ca</span> <span class="id" title="var">cb</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span>:<br/>
&nbsp;&nbsp;<span class="id" title="var">iffT</span> (@<span class="id" title="var">gen_step2</span> <span class="id" title="var">U</span> <span class="id" title="var">W</span> <span class="id" title="var">fty</span> <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">sub</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">derrec</span> <span class="id" title="var">rulesa</span> <span class="id" title="var">emptyT</span>) (<span class="id" title="var">derrec</span> <span class="id" title="var">rulesb</span> <span class="id" title="var">emptyT</span>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">der_botr_ps</span> <span class="id" title="var">dta</span>) <span class="id" title="var">ca</span> (<span class="id" title="var">der_botr_ps</span> <span class="id" title="var">dtb</span>) <span class="id" title="var">cb</span>)<br/>
&nbsp;&nbsp;(@<span class="id" title="var">gen_step2_c</span> <span class="id" title="var">U</span> <span class="id" title="var">W</span> <span class="id" title="var">rulesa</span> <span class="id" title="var">rulesb</span> <span class="id" title="var">fty</span> <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">sub</span> <span class="id" title="var">ca</span> <span class="id" title="var">cb</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">gen_step2</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">gen_step2_c</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- !<span class="id" title="var">der_botr_ps_eq</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">pair</span> ; <span class="id" title="tactic">intros</span>.<br/>
- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">X</span> <span class="id" title="var">X0</span>). <span class="id" title="tactic">clear</span> <span class="id" title="var">X0</span>.<br/>
<span class="id" title="tactic">apply</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">fa</span> <span class="id" title="var">fb</span> =&gt; <span class="id" title="var">X</span> <span class="id" title="var">fa</span> <span class="id" title="var">fb</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span>) ; <span class="id" title="tactic">clear</span> <span class="id" title="var">X</span> ; <span class="id" title="tactic">apply</span> <span class="id" title="var">ForallTI_forall</span> ;<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">inmn</span> ; <span class="id" title="tactic">apply</span> <span class="id" title="var">InT_mapE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">inmn</span> ; <span class="id" title="var">cD</span> ; <span class="id" title="tactic">subst</span> ;  <span class="id" title="tactic">split</span> ;<br/>
<span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">der_der_fc</span>.<br/>
+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">inmn</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">nextup_in_nu</span> <span class="id" title="tactic">in</span> <span class="id" title="var">inmn1</span>.<br/>
<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">der_concl_eq</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">X1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">inmn1</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">inmn1</span>.<br/>
+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">inmn</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">nextup_in_nu</span> <span class="id" title="tactic">in</span> <span class="id" title="var">inmn1</span>.<br/>
<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">der_concl_eq</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">X2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">inmn1</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">inmn1</span>.<br/>
- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">X</span> <span class="id" title="var">X0</span>). <span class="id" title="tactic">clear</span> <span class="id" title="var">X0</span>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">X</span> ; <span class="id" title="tactic">clear</span> <span class="id" title="var">X</span> ; <span class="id" title="tactic">intros</span> * <span class="id" title="var">inn</span>.<br/>
+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">ForallTD_forall</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X1</span>. <span class="id" title="var">cD</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">X0</span>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">in_nextup_nu</span> <span class="id" title="tactic">in</span> <span class="id" title="var">inn</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">InT_mapI</span>.<br/>
<span class="id" title="tactic">exists</span> (<span class="id" title="var">fcI</span> <span class="id" title="var">dtp</span>). <span class="id" title="tactic">split</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">der_concl_eq</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">inn</span>.<br/>
+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">ForallTD_forall</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X2</span>. <span class="id" title="var">cD</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">X0</span>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">in_nextup_nu</span> <span class="id" title="tactic">in</span> <span class="id" title="var">inn</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">InT_mapI</span>.<br/>
<span class="id" title="tactic">exists</span> (<span class="id" title="var">fcI</span> <span class="id" title="var">dtq</span>). <span class="id" title="tactic">split</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">der_concl_eq</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">inn</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">gs2tr_gf2</span> <span class="id" title="var">U</span> <span class="id" title="var">W</span> <span class="id" title="var">rulesa</span> <span class="id" title="var">rulesb</span> <span class="id" title="var">fty</span> <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">sub</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">iffT</span> (@<span class="id" title="var">gen_step2_tr</span> <span class="id" title="var">U</span> <span class="id" title="var">W</span> <span class="id" title="var">rulesa</span> <span class="id" title="var">rulesb</span> <span class="id" title="var">fty</span> <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">sub</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id" title="var">gf_step2_tr</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">fty</span> <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">sub</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id" title="var">in_nextup_fc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (@<span class="id" title="var">in_nextup_fc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">gen_step2_tr</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">gf_step2_tr</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">pair</span> ; <span class="id" title="tactic">intros</span>.<br/>
- <span class="id" title="tactic">pose</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">A'</span> <span class="id" title="var">saa</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> =&gt; <br/>
&nbsp;&nbsp;<span class="id" title="var">X0</span> <span class="id" title="var">A'</span> <span class="id" title="var">saa</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> (<span class="id" title="var">AccT_in_nextup_fc</span> <span class="id" title="var">a</span>) (<span class="id" title="var">AccT_in_nextup_fc</span> <span class="id" title="var">b</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">X0'</span>.<br/>
<span class="id" title="tactic">exact</span> (<span class="id" title="var">X</span> <span class="id" title="var">X0'</span> <span class="id" title="var">X1</span> <span class="id" title="var">X2</span>).<br/>
- <span class="id" title="var">revert</span> <span class="id" title="var">X2</span>. <span class="id" title="var">revert</span> <span class="id" title="var">X1</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">X0</span> <span class="id" title="var">A'</span> <span class="id" title="var">X1</span>). <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">gs2c_gs2tr</span> <span class="id" title="var">U</span> <span class="id" title="var">W</span> <span class="id" title="var">rulesa</span> <span class="id" title="var">rulesb</span> <span class="id" title="var">fty</span> <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">sub</span> <span class="id" title="var">ca</span> <span class="id" title="var">cb</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span>:<br/>
&nbsp;&nbsp;<span class="id" title="var">iffT</span> (@<span class="id" title="var">gen_step2_c</span> <span class="id" title="var">U</span> <span class="id" title="var">W</span> <span class="id" title="var">rulesa</span> <span class="id" title="var">rulesb</span> <span class="id" title="var">fty</span> <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">sub</span> <span class="id" title="var">ca</span> <span class="id" title="var">cb</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span>)<br/>
&nbsp;&nbsp;(@<span class="id" title="var">gen_step2_tr</span> <span class="id" title="var">U</span> <span class="id" title="var">W</span> <span class="id" title="var">rulesa</span> <span class="id" title="var">rulesb</span> <span class="id" title="var">fty</span> (<span class="id" title="var">dt2fun</span> <span class="id" title="var">P</span>) <span class="id" title="var">A</span> <span class="id" title="var">sub</span> (<span class="id" title="var">fcI</span> <span class="id" title="var">dta</span>) (<span class="id" title="var">fcI</span> <span class="id" title="var">dtb</span>)).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">gen_step2_tr</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">gen_step2_c</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">dt2fun</span>. <span class="id" title="tactic">simpl</span>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">pair</span> ; <span class="id" title="tactic">intros</span>.<br/>
- <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">der_concl_eq</span> <span class="id" title="var">dta</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">der_concl_eq</span> <span class="id" title="var">dtb</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">X</span>.<br/>
+ <span class="id" title="tactic">intros</span> <span class="id" title="var">A'</span> <span class="id" title="var">saa</span> <span class="id" title="var">ca0</span> <span class="id" title="var">da</span> <span class="id" title="var">cb0</span> <span class="id" title="var">db</span>.<br/>
<span class="id" title="tactic">specialize</span> (<span class="id" title="var">X0</span> <span class="id" title="var">A'</span> <span class="id" title="var">saa</span> (<span class="id" title="var">fcI</span> <span class="id" title="var">da</span>) (<span class="id" title="var">fcI</span> <span class="id" title="var">db</span>)). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>.<br/>
<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">der_concl_eq</span> <span class="id" title="var">da</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">der_concl_eq</span> <span class="id" title="var">db</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">X0</span>.<br/>
+ <span class="id" title="tactic">intros</span> * <span class="id" title="var">inn</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">X1</span> (<span class="id" title="var">fcI</span> <span class="id" title="var">dtp</span>)). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X1</span>.<br/>
<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">der_concl_eq</span> <span class="id" title="var">dtp</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">X1</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">der_concl_eq</span> <span class="id" title="var">dtb</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">X1</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">X1</span>.<br/>
<span class="id" title="tactic">exact</span> (<span class="id" title="var">in_nextup_fcI</span> <span class="id" title="var">inn</span>).<br/>
+ <span class="id" title="tactic">intros</span> * <span class="id" title="var">inn</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">X2</span> (<span class="id" title="var">fcI</span> <span class="id" title="var">dtq</span>)). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X2</span>.<br/>
<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">der_concl_eq</span> <span class="id" title="var">dtq</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">X2</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">der_concl_eq</span> <span class="id" title="var">dta</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">X2</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">X2</span>.<br/>
<span class="id" title="tactic">exact</span> (<span class="id" title="var">in_nextup_fcI</span> <span class="id" title="var">inn</span>).<br/>
- <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">der_concl_eq</span> <span class="id" title="var">dta</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">der_concl_eq</span> <span class="id" title="var">dtb</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">X</span>.<br/>
+ <span class="id" title="tactic">intros</span> <span class="id" title="var">A'</span> <span class="id" title="var">saa</span> *. <span class="id" title="tactic">apply</span> (<span class="id" title="var">X0</span> <span class="id" title="var">A'</span> <span class="id" title="var">saa</span>).<br/>
<span class="id" title="tactic">destruct</span> <span class="id" title="var">da</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">der_concl_eq</span> <span class="id" title="var">d</span>). <span class="id" title="tactic">exact</span> <span class="id" title="var">d</span>.<br/>
<span class="id" title="tactic">destruct</span> <span class="id" title="var">db</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">der_concl_eq</span> <span class="id" title="var">d</span>). <span class="id" title="tactic">exact</span> <span class="id" title="var">d</span>.<br/>
+ <span class="id" title="tactic">intros</span> * <span class="id" title="var">inn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">dtna</span>.<br/>
<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">der_concl_eq</span> <span class="id" title="var">d</span>). <span class="id" title="tactic">apply</span> (<span class="id" title="var">X1</span> <span class="id" title="var">concl</span> <span class="id" title="var">d</span>).<br/>
<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">inn</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">i</span>.<br/>
+ <span class="id" title="tactic">intros</span> * <span class="id" title="var">inn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">dtnb</span>.<br/>
<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">der_concl_eq</span> <span class="id" title="var">d</span>). <span class="id" title="tactic">apply</span> (<span class="id" title="var">X2</span> <span class="id" title="var">concl</span> <span class="id" title="var">d</span>).<br/>
<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">inn</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">i</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Check</span> <span class="id" title="var">gs2_gs2c</span>. <span class="id" title="keyword">Check</span> <span class="id" title="var">gs2c_gs2tr</span>. <span class="id" title="keyword">Check</span> <span class="id" title="var">gs2tr_gf2</span>.<br/>

<br/>
</div>

<div class="doc">
lemmas enabling inductive proofs for two trees 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">gen_step2_c_lem</span> <span class="id" title="var">U</span> <span class="id" title="var">W</span> <span class="id" title="var">rulesa</span> <span class="id" title="var">rulesb</span> <span class="id" title="var">fty</span> <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">sub</span> : <span class="id" title="var">AccT</span> <span class="id" title="var">sub</span> <span class="id" title="var">A</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">A</span> <span class="id" title="var">ca</span> <span class="id" title="var">cb</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id" title="var">gen_step2_c</span> <span class="id" title="var">U</span> <span class="id" title="var">W</span> <span class="id" title="var">rulesa</span> <span class="id" title="var">rulesb</span> <span class="id" title="var">fty</span> <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">sub</span> <span class="id" title="var">ca</span> <span class="id" title="var">cb</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">ca</span> (<span class="id" title="var">dta</span> : <span class="id" title="var">derrec</span> <span class="id" title="var">rulesa</span> <span class="id" title="var">emptyT</span> <span class="id" title="var">ca</span>) <span class="id" title="var">cb</span> (<span class="id" title="var">dtb</span> : <span class="id" title="var">derrec</span> <span class="id" title="var">rulesb</span> <span class="id" title="var">emptyT</span> <span class="id" title="var">cb</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">ca</span> <span class="id" title="var">cb</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">acc</span> <span class="id" title="var">gs</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">acc</span>.<br/>
<span class="id" title="tactic">eapply</span> <span class="id" title="var">derrec_all_rect2</span>.<br/>
<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="tactic">unfold</span> <span class="id" title="var">gen_step2_c</span> <span class="id" title="tactic">in</span> <span class="id" title="var">gs</span>.<br/>
<span class="id" title="tactic">intros</span> *. <span class="id" title="tactic">intros</span> <span class="id" title="var">rx</span> <span class="id" title="var">ry</span> <span class="id" title="var">drx</span> <span class="id" title="var">dry</span> <span class="id" title="var">fpx</span> <span class="id" title="var">fpy</span>.<br/>
<span class="id" title="tactic">pose</span> (<span class="id" title="var">derI</span> <span class="id" title="var">_</span> <span class="id" title="var">rx</span> <span class="id" title="var">drx</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">dx</span>. <span class="id" title="tactic">pose</span> (<span class="id" title="var">derI</span> <span class="id" title="var">_</span> <span class="id" title="var">ry</span> <span class="id" title="var">dry</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">dy</span>.<br/>
<span class="id" title="tactic">specialize</span> (<span class="id" title="var">gs</span> <span class="id" title="var">x</span> <span class="id" title="var">cx</span> <span class="id" title="var">cy</span> <span class="id" title="var">dx</span> <span class="id" title="var">dy</span> <span class="id" title="var">X</span>).<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">gs</span> ; <span class="id" title="tactic">clear</span> <span class="id" title="var">gs</span> <span class="id" title="var">a</span> <span class="id" title="var">X</span> ; <span class="id" title="tactic">intros</span>.<br/>
+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">ForallTD_forall</span> <span class="id" title="tactic">in</span> <span class="id" title="var">fpx</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">fpx</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">in_nextup_concl_in</span> <span class="id" title="var">X</span>).<br/>
+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">ForallTD_forall</span> <span class="id" title="tactic">in</span> <span class="id" title="var">fpy</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">fpy</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">in_nextup_concl_in</span> <span class="id" title="var">X</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">gen_step2_tr_lem</span> <span class="id" title="var">U</span> <span class="id" title="var">W</span> <span class="id" title="var">rulesa</span> <span class="id" title="var">rulesb</span> <span class="id" title="var">fty</span> <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">sub</span> : <span class="id" title="var">AccT</span> <span class="id" title="var">sub</span> <span class="id" title="var">A</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">A</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span>, @<span class="id" title="var">gen_step2_tr</span> <span class="id" title="var">U</span> <span class="id" title="var">W</span> <span class="id" title="var">rulesa</span> <span class="id" title="var">rulesb</span> <span class="id" title="var">fty</span> <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">sub</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span>, <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">acc</span> <span class="id" title="var">gs</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">acc</span>.<br/>
<span class="id" title="tactic">unfold</span> <span class="id" title="var">gen_step2_tr</span> <span class="id" title="tactic">in</span> <span class="id" title="var">gs</span>. <span class="id" title="tactic">pose</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span> =&gt; <span class="id" title="var">gs</span> <span class="id" title="var">x</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">p</span>.<br/>
<span class="id" title="tactic">intro</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">dta</span>. <span class="id" title="var">revert</span> <span class="id" title="var">d</span>. <span class="id" title="var">revert</span> <span class="id" title="var">concl</span>.<br/>
<span class="id" title="tactic">eapply</span> (@<span class="id" title="var">derrec_rect_mut_all</span> <span class="id" title="var">U</span> <span class="id" title="var">rulesa</span> <span class="id" title="var">emptyT</span> <br/>
&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">ca</span> (<span class="id" title="var">d</span> : <span class="id" title="var">derrec</span> <span class="id" title="var">rulesa</span> <span class="id" title="var">emptyT</span> <span class="id" title="var">ca</span>) =&gt; <span class="id" title="keyword">forall</span> <span class="id" title="var">dtb</span>, <span class="id" title="var">P</span> <span class="id" title="var">x</span> (<span class="id" title="var">fcI</span> <span class="id" title="var">d</span>) <span class="id" title="var">dtb</span>)).<br/>
- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p0</span>.<br/>
- <span class="id" title="tactic">intros</span> * <span class="id" title="var">apd</span> <span class="id" title="var">dtb</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">dtb</span>. <span class="id" title="var">revert</span> <span class="id" title="var">d0</span>. <span class="id" title="var">revert</span> <span class="id" title="var">concl0</span>.<br/>
<span class="id" title="tactic">eapply</span> (<span class="id" title="var">derrec_rect_mut_all</span>).<br/>
+ <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p0</span>.<br/>
+ <span class="id" title="tactic">intros</span> * <span class="id" title="var">apdb</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">nextup</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">dtna</span> <span class="id" title="var">inda</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">dtna</span>.<br/>
<span class="id" title="tactic">exact</span> (<span class="id" title="var">allP_all_in_d</span> <span class="id" title="var">apd</span> (<span class="id" title="var">in_trees_drs</span> <span class="id" title="var">d</span> (<span class="id" title="var">in_nextup_fc_nu</span> <span class="id" title="var">inda</span>)) <span class="id" title="var">_</span>).<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">dtnb</span> <span class="id" title="var">indb</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">dtnb</span>.<br/>
<span class="id" title="tactic">exact</span> (<span class="id" title="var">allP_all_in_d</span> <span class="id" title="var">apdb</span> (<span class="id" title="var">in_trees_drs</span> <span class="id" title="var">_</span> (<span class="id" title="var">in_nextup_fc_nu</span> <span class="id" title="var">indb</span>))). <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">gf_step2_tr_lem</span> <span class="id" title="var">U</span> <span class="id" title="var">W</span> <span class="id" title="var">fty</span> (<span class="id" title="var">P</span> : <span class="id" title="var">fty</span> -&gt; <span class="id" title="var">U</span> -&gt; <span class="id" title="var">W</span> -&gt; <span class="id" title="keyword">Type</span>) <span class="id" title="var">A</span> <span class="id" title="var">sub</span> <span class="id" title="var">gra</span> <span class="id" title="var">grb</span> :<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">A</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span>, <span class="id" title="var">gf_step2_tr</span> <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">sub</span> <span class="id" title="var">gra</span> <span class="id" title="var">grb</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span>) -&gt; <span class="id" title="var">AccT</span> <span class="id" title="var">sub</span> <span class="id" title="var">A</span> -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">dta</span>, <span class="id" title="var">AccT</span> <span class="id" title="var">gra</span> <span class="id" title="var">dta</span> -&gt; <span class="id" title="keyword">forall</span> <span class="id" title="var">dtb</span>, <span class="id" title="var">AccT</span> <span class="id" title="var">grb</span> <span class="id" title="var">dtb</span> -&gt; <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">gs</span> <span class="id" title="var">acc</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">acc</span>.<br/>
<span class="id" title="tactic">unfold</span> <span class="id" title="var">gf_step2_tr</span> <span class="id" title="tactic">in</span> <span class="id" title="var">gs</span>.<br/>
<span class="id" title="tactic">pose</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">y</span> <span class="id" title="var">s</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span> <span class="id" title="var">adg</span> =&gt; <span class="id" title="var">X</span> <span class="id" title="var">y</span> <span class="id" title="var">s</span> <span class="id" title="var">dta</span> <span class="id" title="var">adg</span> <span class="id" title="var">dtb</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">X'</span>.<br/>
<span class="id" title="tactic">pose</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span> =&gt; <span class="id" title="var">gs</span> <span class="id" title="var">x</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span> <span class="id" title="var">X'</span>).<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">dta</span> <span class="id" title="var">aga</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">aga</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">dtb</span> <span class="id" title="var">agb</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">agb</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">a1</span>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">p</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">dtp</span> <span class="id" title="var">gad</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">X0</span> ; <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">dtq</span> <span class="id" title="var">gbd</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">X1</span> <span class="id" title="var">dtq</span> <span class="id" title="var">gbd</span> (<span class="id" title="var">a1</span> <span class="id" title="var">dtq</span> <span class="id" title="var">gbd</span>)).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Check</span> <span class="id" title="var">gen_step2_c_lem</span>. <span class="id" title="keyword">Check</span> <span class="id" title="var">gen_step2_tr_lem</span>. <span class="id" title="keyword">Check</span> <span class="id" title="var">gf_step2_tr_lem</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="keyword">measure</span> {<span class="id" title="var">U</span>} <span class="id" title="var">f</span> (<span class="id" title="var">dtn</span> <span class="id" title="var">dt</span> : <span class="id" title="var">U</span>) := <span class="id" title="var">f</span> <span class="id" title="var">dtn</span> &lt; <span class="id" title="var">f</span> <span class="id" title="var">dt</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">AccT_measure'</span> <span class="id" title="var">U</span> <span class="id" title="var">f</span> <span class="id" title="var">n</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">dt</span> : <span class="id" title="var">U</span>, <span class="id" title="var">f</span> <span class="id" title="var">dt</span> &lt; <span class="id" title="var">n</span> -&gt; <span class="id" title="var">AccT</span> (<span class="id" title="keyword">measure</span> <span class="id" title="var">f</span>) <span class="id" title="var">dt</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>.<br/>
- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Nat.nlt_0_r</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">contradiction</span> <span class="id" title="var">H</span>.<br/>
- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">AccT_intro</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="keyword">measure</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHn</span>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">Lt.lt_n_Sm_le</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Lt.lt_le_trans</span> ; <span class="id" title="var">eassumption</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">AccT_measure</span> <span class="id" title="var">U</span> <span class="id" title="var">f</span> <span class="id" title="var">dt</span> := <br/>
&nbsp;&nbsp;@<span class="id" title="var">AccT_measure'</span> <span class="id" title="var">U</span> <span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">dt</span> (<span class="id" title="var">Nat.lt_succ_diag_r</span> <span class="id" title="var">_</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">size_step2_tr</span> <span class="id" title="var">U</span> <span class="id" title="var">W</span> <span class="id" title="var">fty</span> <span class="id" title="var">rulesa</span> <span class="id" title="var">rulesb</span> <span class="id" title="var">P</span> (<span class="id" title="var">A</span> : <span class="id" title="var">fty</span>) <span class="id" title="var">sub</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">gf_step2_tr</span> <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">sub</span> (<span class="id" title="keyword">measure</span> (@<span class="id" title="var">derrec_fc_size</span> <span class="id" title="var">U</span> <span class="id" title="var">rulesa</span> <span class="id" title="var">emptyT</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">measure</span> (@<span class="id" title="var">derrec_fc_size</span> <span class="id" title="var">W</span> <span class="id" title="var">rulesb</span> <span class="id" title="var">emptyT</span>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">height_step2_tr</span> <span class="id" title="var">U</span> <span class="id" title="var">W</span> <span class="id" title="var">fty</span> <span class="id" title="var">rulesa</span> <span class="id" title="var">rulesb</span> <span class="id" title="var">P</span> (<span class="id" title="var">A</span> : <span class="id" title="var">fty</span>) <span class="id" title="var">sub</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">gf_step2_tr</span> <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">sub</span> (<span class="id" title="keyword">measure</span> (@<span class="id" title="var">derrec_fc_height</span> <span class="id" title="var">U</span> <span class="id" title="var">rulesa</span> <span class="id" title="var">emptyT</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">measure</span> (@<span class="id" title="var">derrec_fc_height</span> <span class="id" title="var">W</span> <span class="id" title="var">rulesb</span> <span class="id" title="var">emptyT</span>)).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">size_step2_tr_lem</span> <span class="id" title="var">U</span> <span class="id" title="var">W</span> <span class="id" title="var">fty</span> (<span class="id" title="var">rulesa</span> : <span class="id" title="var">rlsT</span> <span class="id" title="var">U</span>) (<span class="id" title="var">rulesb</span> : <span class="id" title="var">rlsT</span> <span class="id" title="var">W</span>) <br/>
&nbsp;&nbsp;(<span class="id" title="var">P</span> : <span class="id" title="var">fty</span> -&gt; <span class="id" title="var">derrec_fc</span> <span class="id" title="var">rulesa</span> <span class="id" title="var">emptyT</span> -&gt; <span class="id" title="var">derrec_fc</span> <span class="id" title="var">rulesb</span> <span class="id" title="var">emptyT</span> -&gt; <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;<span class="id" title="var">A</span> <span class="id" title="var">sub</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span>: <span class="id" title="var">AccT</span> <span class="id" title="var">sub</span> <span class="id" title="var">A</span> -&gt; <br/>
&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">A</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span>, <span class="id" title="var">size_step2_tr</span> <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">sub</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span>) -&gt; <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">size_step2_tr</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">acc</span> <span class="id" title="var">fgf</span>.<br/>
<span class="id" title="tactic">apply</span> (<span class="id" title="var">gf_step2_tr_lem</span> <span class="id" title="var">fgf</span> <span class="id" title="var">acc</span>) ; <span class="id" title="tactic">apply</span> <span class="id" title="var">AccT_measure</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">height_step2_tr_lem</span> <span class="id" title="var">U</span> <span class="id" title="var">W</span> <span class="id" title="var">fty</span> (<span class="id" title="var">rulesa</span> : <span class="id" title="var">rlsT</span> <span class="id" title="var">U</span>) (<span class="id" title="var">rulesb</span> : <span class="id" title="var">rlsT</span> <span class="id" title="var">W</span>) <br/>
&nbsp;&nbsp;(<span class="id" title="var">P</span> : <span class="id" title="var">fty</span> -&gt; <span class="id" title="var">derrec_fc</span> <span class="id" title="var">rulesa</span> <span class="id" title="var">emptyT</span> -&gt; <span class="id" title="var">derrec_fc</span> <span class="id" title="var">rulesb</span> <span class="id" title="var">emptyT</span> -&gt; <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;<span class="id" title="var">A</span> <span class="id" title="var">sub</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span>: <span class="id" title="var">AccT</span> <span class="id" title="var">sub</span> <span class="id" title="var">A</span> -&gt; <br/>
&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">A</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span>, <span class="id" title="var">height_step2_tr</span> <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">sub</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span>) -&gt; <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">height_step2_tr</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">acc</span> <span class="id" title="var">fgf</span>.<br/>
<span class="id" title="tactic">apply</span> (<span class="id" title="var">gf_step2_tr_lem</span> <span class="id" title="var">fgf</span> <span class="id" title="var">acc</span>) ; <span class="id" title="tactic">apply</span> <span class="id" title="var">AccT_measure</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">nextup_size</span> <span class="id" title="var">W</span> <span class="id" title="var">rules</span> <span class="id" title="var">prems</span> (<span class="id" title="var">d</span> <span class="id" title="var">dn</span> : @<span class="id" title="var">derrec_fc</span> <span class="id" title="var">W</span> <span class="id" title="var">rules</span> <span class="id" title="var">prems</span>):<br/>
&nbsp;&nbsp;<span class="id" title="var">InT</span> <span class="id" title="var">dn</span> (<span class="id" title="var">nextup</span> <span class="id" title="var">d</span>) -&gt; <span class="id" title="var">derrec_fc_size</span> <span class="id" title="var">dn</span> &lt; <span class="id" title="var">derrec_fc_size</span> <span class="id" title="var">d</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">dn</span>.<br/>
<span class="id" title="tactic">unfold</span> <span class="id" title="var">derrec_fc_size</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">nextup</span>.<br/>
<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span>. <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">X</span>.<br/>
<span class="id" title="tactic">intro</span> <span class="id" title="var">idt</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">in_trees_drs</span> <span class="id" title="tactic">in</span> <span class="id" title="var">idt</span>.<br/>
<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">r</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">idt</span> ; <span class="id" title="tactic">simpl</span>.<br/>
+ <span class="id" title="tactic">apply</span> <span class="id" title="var">Lt.le_lt_n_Sm</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Nat.le_add_r</span>.<br/>
+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">Lt.lt_le_trans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHidt</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">le_n_S</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Plus.le_plus_r</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">nextup_height</span> <span class="id" title="var">W</span> <span class="id" title="var">rules</span> <span class="id" title="var">prems</span> (<span class="id" title="var">d</span> <span class="id" title="var">dn</span> : @<span class="id" title="var">derrec_fc</span> <span class="id" title="var">W</span> <span class="id" title="var">rules</span> <span class="id" title="var">prems</span>):<br/>
&nbsp;&nbsp;<span class="id" title="var">InT</span> <span class="id" title="var">dn</span> (<span class="id" title="var">nextup</span> <span class="id" title="var">d</span>) -&gt; <span class="id" title="var">derrec_fc_height</span> <span class="id" title="var">dn</span> &lt; <span class="id" title="var">derrec_fc_height</span> <span class="id" title="var">d</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">dn</span>.<br/>
<span class="id" title="tactic">unfold</span> <span class="id" title="var">derrec_fc_height</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">nextup</span>.<br/>
<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span>. <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">X</span>.<br/>
<span class="id" title="tactic">intro</span> <span class="id" title="var">idt</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">in_trees_drs</span> <span class="id" title="tactic">in</span> <span class="id" title="var">idt</span>.<br/>
<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">r</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">idt</span> ; <span class="id" title="tactic">simpl</span>.<br/>
+ <span class="id" title="tactic">apply</span> <span class="id" title="var">Lt.le_lt_n_Sm</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Nat.le_max_l</span>.<br/>
+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">Lt.lt_le_trans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHidt</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">le_n_S</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Nat.le_max_r</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">in_nextup_size</span> <span class="id" title="var">W</span> <span class="id" title="var">rules</span> <span class="id" title="var">prems</span> <span class="id" title="var">d</span> <span class="id" title="var">dn</span> <span class="id" title="var">inn</span> :=<br/>
&nbsp;&nbsp;@<span class="id" title="var">nextup_size</span> <span class="id" title="var">W</span> <span class="id" title="var">rules</span> <span class="id" title="var">prems</span> <span class="id" title="var">d</span> <span class="id" title="var">dn</span> (<span class="id" title="var">in_nextup_fc_nu</span> <span class="id" title="var">inn</span>).<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">in_nextup_height</span> <span class="id" title="var">W</span> <span class="id" title="var">rules</span> <span class="id" title="var">prems</span> <span class="id" title="var">d</span> <span class="id" title="var">dn</span> <span class="id" title="var">inn</span> :=<br/>
&nbsp;&nbsp;@<span class="id" title="var">nextup_height</span> <span class="id" title="var">W</span> <span class="id" title="var">rules</span> <span class="id" title="var">prems</span> <span class="id" title="var">d</span> <span class="id" title="var">dn</span> (<span class="id" title="var">in_nextup_fc_nu</span> <span class="id" title="var">inn</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">gs2_tr_size</span> <span class="id" title="var">U</span> <span class="id" title="var">W</span> <span class="id" title="var">fty</span> (<span class="id" title="var">rulesa</span> : <span class="id" title="var">rlsT</span> <span class="id" title="var">U</span>) (<span class="id" title="var">rulesb</span> : <span class="id" title="var">rlsT</span> <span class="id" title="var">W</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">P</span> : <span class="id" title="var">fty</span> -&gt; <span class="id" title="var">derrec_fc</span> <span class="id" title="var">rulesa</span> <span class="id" title="var">emptyT</span> -&gt; <span class="id" title="var">derrec_fc</span> <span class="id" title="var">rulesb</span> <span class="id" title="var">emptyT</span> -&gt; <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;<span class="id" title="var">A</span> <span class="id" title="var">sub</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span>: <br/>
&nbsp;&nbsp;<span class="id" title="var">gen_step2_tr</span> <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">sub</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span> -&gt; <span class="id" title="var">size_step2_tr</span> <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">sub</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">size_step2_tr</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">gf_step2_tr</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">gen_step2_tr</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">gs2</span> <span class="id" title="var">saa</span>.<br/>
<span class="id" title="tactic">specialize</span> (<span class="id" title="var">gs2</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">A'</span> <span class="id" title="var">s</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> =&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">saa</span> <span class="id" title="var">A'</span> <span class="id" title="var">s</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> (<span class="id" title="var">AccT_measure</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (<span class="id" title="var">AccT_measure</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>))).<br/>
<span class="id" title="tactic">clear</span> <span class="id" title="var">saa</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">pb</span> <span class="id" title="var">aq</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">gs2</span>.<br/>
<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">pb</span> <span class="id" title="var">dtna</span>). <span class="id" title="tactic">unfold</span> <span class="id" title="keyword">measure</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">in_nextup_size</span> <span class="id" title="var">X</span>).<br/>
<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">aq</span> <span class="id" title="var">dtnb</span>). <span class="id" title="tactic">unfold</span> <span class="id" title="keyword">measure</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">in_nextup_size</span> <span class="id" title="var">X</span>). <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">gs2_tr_height</span> <span class="id" title="var">U</span> <span class="id" title="var">W</span> <span class="id" title="var">fty</span> (<span class="id" title="var">rulesa</span> : <span class="id" title="var">rlsT</span> <span class="id" title="var">U</span>) (<span class="id" title="var">rulesb</span> : <span class="id" title="var">rlsT</span> <span class="id" title="var">W</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">P</span> : <span class="id" title="var">fty</span> -&gt; <span class="id" title="var">derrec_fc</span> <span class="id" title="var">rulesa</span> <span class="id" title="var">emptyT</span> -&gt; <span class="id" title="var">derrec_fc</span> <span class="id" title="var">rulesb</span> <span class="id" title="var">emptyT</span> -&gt; <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;<span class="id" title="var">A</span> <span class="id" title="var">sub</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span>: <br/>
&nbsp;&nbsp;<span class="id" title="var">gen_step2_tr</span> <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">sub</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span> -&gt; <span class="id" title="var">height_step2_tr</span> <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">sub</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">height_step2_tr</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">gf_step2_tr</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">gen_step2_tr</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">gs2</span> <span class="id" title="var">saa</span>.<br/>
<span class="id" title="tactic">specialize</span> (<span class="id" title="var">gs2</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">A'</span> <span class="id" title="var">s</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> =&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">saa</span> <span class="id" title="var">A'</span> <span class="id" title="var">s</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> (<span class="id" title="var">AccT_measure</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (<span class="id" title="var">AccT_measure</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>))).<br/>
<span class="id" title="tactic">clear</span> <span class="id" title="var">saa</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">pb</span> <span class="id" title="var">aq</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">gs2</span>.<br/>
<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">pb</span> <span class="id" title="var">dtna</span>). <span class="id" title="tactic">unfold</span> <span class="id" title="keyword">measure</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">in_nextup_height</span> <span class="id" title="var">X</span>).<br/>
<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">aq</span> <span class="id" title="var">dtnb</span>). <span class="id" title="tactic">unfold</span> <span class="id" title="keyword">measure</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">in_nextup_height</span> <span class="id" title="var">X</span>). <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">gs2_hs2</span> (<span class="id" title="var">U</span> <span class="id" title="var">W</span> <span class="id" title="var">fty</span> : <span class="id" title="keyword">Type</span>) <span class="id" title="var">rlsl</span> <span class="id" title="var">rlsr</span> (<span class="id" title="var">P</span> : <span class="id" title="var">fty</span> -&gt; <span class="id" title="var">U</span> -&gt; <span class="id" title="var">W</span> -&gt; <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;<span class="id" title="var">A</span> <span class="id" title="var">sub</span> <span class="id" title="var">cl</span> <span class="id" title="var">cr</span> (<span class="id" title="var">dl</span> : <span class="id" title="var">derrec</span> <span class="id" title="var">rlsl</span> <span class="id" title="var">emptyT</span> <span class="id" title="var">cl</span>) (<span class="id" title="var">dr</span> : <span class="id" title="var">derrec</span> <span class="id" title="var">rlsr</span> <span class="id" title="var">emptyT</span> <span class="id" title="var">cr</span>)<br/>
&nbsp;&nbsp;<span class="id" title="var">psl</span> <span class="id" title="var">psr</span> (<span class="id" title="var">brl</span> : <span class="id" title="var">botRule_fc</span> (<span class="id" title="var">fcI</span> <span class="id" title="var">dl</span>) <span class="id" title="var">psl</span> <span class="id" title="var">cl</span>) (<span class="id" title="var">brr</span> : <span class="id" title="var">botRule_fc</span> (<span class="id" title="var">fcI</span> <span class="id" title="var">dr</span>) <span class="id" title="var">psr</span> <span class="id" title="var">cr</span>):<br/>
&nbsp;&nbsp;<span class="id" title="var">gen_step2</span> <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">sub</span> (<span class="id" title="var">derrec</span> <span class="id" title="var">rlsl</span> <span class="id" title="var">emptyT</span>) (<span class="id" title="var">derrec</span> <span class="id" title="var">rlsr</span> <span class="id" title="var">emptyT</span>) <span class="id" title="var">psl</span> <span class="id" title="var">cl</span> <span class="id" title="var">psr</span> <span class="id" title="var">cr</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">height_step2_tr</span> (<span class="id" title="var">dt2fun</span> <span class="id" title="var">P</span>) <span class="id" title="var">A</span> <span class="id" title="var">sub</span> (<span class="id" title="var">fcI</span> <span class="id" title="var">dl</span>) (<span class="id" title="var">fcI</span> <span class="id" title="var">dr</span>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">gs2</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">gs2_tr_height</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">gs2c_gs2tr</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">gs2_gs2c</span>.<br/>
<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">snd</span> (<span class="id" title="var">botRule_fc_prems</span> <span class="id" title="var">brl</span>)). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">snd</span> (<span class="id" title="var">botRule_fc_prems</span> <span class="id" title="var">brr</span>)).<br/>
<span class="id" title="tactic">exact</span> <span class="id" title="var">gs2</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Print</span> <span class="id" title="keyword">Implicit</span> <span class="id" title="var">gs2_tr_height</span>. <span class="id" title="keyword">Print</span> <span class="id" title="keyword">Implicit</span> <span class="id" title="var">gs2_hs2</span>.<br/>
<span class="id" title="keyword">Check</span> (<span class="id" title="var">gs2_hs2</span> (<span class="id" title="var">get_botrule</span> <span class="id" title="var">_</span>) (<span class="id" title="var">get_botrule</span> <span class="id" title="var">_</span>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">sumh_step2_tr</span> <span class="id" title="var">U</span> <span class="id" title="var">W</span> <span class="id" title="var">fty</span> (<span class="id" title="var">rulesa</span> : <span class="id" title="var">rlsT</span> <span class="id" title="var">U</span>) (<span class="id" title="var">rulesb</span> : <span class="id" title="var">rlsT</span> <span class="id" title="var">W</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">P</span> : <span class="id" title="var">fty</span> -&gt; <span class="id" title="var">derrec_fc</span> <span class="id" title="var">rulesa</span> <span class="id" title="var">emptyT</span> -&gt; <span class="id" title="var">derrec_fc</span> <span class="id" title="var">rulesb</span> <span class="id" title="var">emptyT</span> -&gt; <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">A</span> <span class="id" title="var">sub</span> := <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sum_step2_tr</span> <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">sub</span> (@<span class="id" title="var">derrec_fc_height</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (@<span class="id" title="var">derrec_fc_height</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">sum_step2_tr_gf2</span> <span class="id" title="var">U</span> <span class="id" title="var">W</span> <span class="id" title="var">fty</span> (<span class="id" title="var">P</span> : <span class="id" title="var">fty</span> -&gt; <span class="id" title="var">U</span> -&gt; <span class="id" title="var">W</span> -&gt; <span class="id" title="keyword">Type</span>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">A</span> <span class="id" title="var">sub</span> <span class="id" title="var">gsa</span> <span class="id" title="var">gsb</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">iffT</span> (<span class="id" title="var">sum_step2_tr</span> <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">sub</span> <span class="id" title="var">gsa</span> <span class="id" title="var">gsb</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">gf2_step_tr</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">fml</span> <span class="id" title="var">ab</span> =&gt; <span class="id" title="var">P</span> <span class="id" title="var">fml</span> (<span class="id" title="var">fst</span> <span class="id" title="var">ab</span>) (<span class="id" title="var">snd</span> <span class="id" title="var">ab</span>)) <span class="id" title="var">A</span> <span class="id" title="var">sub</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">measure</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">ab</span> =&gt; <span class="id" title="var">Nat.add</span> (<span class="id" title="var">gsa</span> (<span class="id" title="var">fst</span> <span class="id" title="var">ab</span>)) (<span class="id" title="var">gsb</span> (<span class="id" title="var">snd</span> <span class="id" title="var">ab</span>)))) (<span class="id" title="var">dta</span>, <span class="id" title="var">dtb</span>)).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">sum_step2_tr</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">gf2_step_tr</span>.<br/>
<span class="id" title="tactic">unfold</span> <span class="id" title="var">iffT</span>. <span class="id" title="tactic">split</span>.<br/>
- <span class="id" title="tactic">intros</span> <span class="id" title="var">fsglp</span> <span class="id" title="var">sp</span> <span class="id" title="var">glpp</span>.<br/>
<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">fsglp</span>.<br/>
+ <span class="id" title="tactic">intros</span> <span class="id" title="var">A'</span> <span class="id" title="var">saa</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>.<br/>
<span class="id" title="tactic">apply</span> (<span class="id" title="var">sp</span> <span class="id" title="var">A'</span> <span class="id" title="var">saa</span> (<span class="id" title="var">a</span>, <span class="id" title="var">b</span>)). <span class="id" title="tactic">apply</span> <span class="id" title="var">AccT_measure</span>.<br/>
+ <span class="id" title="tactic">intros</span> *. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">glpp</span> (<span class="id" title="var">dta'</span>, <span class="id" title="var">dtb'</span>)).<br/>
<span class="id" title="tactic">unfold</span> <span class="id" title="keyword">measure</span> <span class="id" title="tactic">in</span> <span class="id" title="var">glpp</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">glpp</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">glpp</span>.<br/>
- <span class="id" title="tactic">intros</span> <span class="id" title="var">sglpp</span> <span class="id" title="var">sp</span> <span class="id" title="var">glp</span>.<br/>
<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">sglpp</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">sglpp</span>.<br/>
<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">dts</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">sp</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">X</span>.<br/>
<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">dts'</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">glp</span>.<br/>
<span class="id" title="tactic">unfold</span> <span class="id" title="keyword">measure</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">sum_step2_tr_D_gf2</span> <span class="id" title="var">U</span> <span class="id" title="var">W</span> <span class="id" title="var">fty</span> <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">sub</span> <span class="id" title="var">gsa</span> <span class="id" title="var">gsb</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">iffT_D1</span> (@<span class="id" title="var">sum_step2_tr_gf2</span> <span class="id" title="var">U</span> <span class="id" title="var">W</span> <span class="id" title="var">fty</span> <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">sub</span> <span class="id" title="var">gsa</span> <span class="id" title="var">gsb</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">sum_step2_tr_lem</span> <span class="id" title="var">U</span> <span class="id" title="var">W</span> <span class="id" title="var">fty</span> (<span class="id" title="var">P</span> : <span class="id" title="var">fty</span> -&gt; <span class="id" title="var">U</span> -&gt; <span class="id" title="var">W</span> -&gt; <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">A</span> <span class="id" title="var">sub</span> <span class="id" title="var">gsa</span> <span class="id" title="var">gsb</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span> : <span class="id" title="var">AccT</span> <span class="id" title="var">sub</span> <span class="id" title="var">A</span> -&gt; <br/>
&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">A</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span>, <span class="id" title="var">sum_step2_tr</span> <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">sub</span> <span class="id" title="var">gsa</span> <span class="id" title="var">gsb</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span>) -&gt; <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> *. <span class="id" title="tactic">intros</span> <span class="id" title="var">acc</span> <span class="id" title="var">ss</span>.<br/>
<span class="id" title="tactic">pose</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">fty</span> <span class="id" title="var">UW</span> =&gt; <span class="id" title="var">P</span> <span class="id" title="var">fty</span> (<span class="id" title="var">fst</span> <span class="id" title="var">UW</span>) (<span class="id" title="var">snd</span> <span class="id" title="var">UW</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Q</span>.<br/>
<span class="id" title="tactic">assert</span> (<span class="id" title="var">Q</span> <span class="id" title="var">A</span> (<span class="id" title="var">dta</span>, <span class="id" title="var">dtb</span>)).<br/>
<span class="id" title="tactic">eapply</span> <span class="id" title="var">gf2_step_tr_lem</span>.<br/>
<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">sum_step2_tr_D_gf2</span>.<br/>
<span class="id" title="var">all</span>: <span class="id" title="var">cycle</span> 1. <span class="id" title="tactic">exact</span> <span class="id" title="var">acc</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">AccT_measure</span>.<br/>
<span class="id" title="tactic">subst</span> <span class="id" title="var">Q</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">X</span>.<br/>
<span class="id" title="tactic">destruct</span> <span class="id" title="var">dts</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">ss</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Check</span> <span class="id" title="var">sum_step2_tr_lem</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">gf2_sum</span> <span class="id" title="var">U</span> <span class="id" title="var">W</span> <span class="id" title="var">fty</span> (<span class="id" title="var">P</span> : <span class="id" title="var">fty</span> -&gt; <span class="id" title="var">U</span> -&gt; <span class="id" title="var">W</span> -&gt; <span class="id" title="keyword">Type</span>) <span class="id" title="var">A</span> <span class="id" title="var">sub</span> <span class="id" title="var">gsa</span> <span class="id" title="var">gsb</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span>:<br/>
&nbsp;&nbsp;<span class="id" title="var">gf_step2_tr</span> <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">sub</span> (<span class="id" title="keyword">measure</span> <span class="id" title="var">gsa</span>) (<span class="id" title="keyword">measure</span> <span class="id" title="var">gsb</span>) <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sum_step2_tr</span> <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">sub</span> <span class="id" title="var">gsa</span> <span class="id" title="var">gsb</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">sum_step2_tr</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">gf_step2_tr</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">gf2</span> <span class="id" title="var">saa</span> <span class="id" title="var">lgss</span>.<br/>
<span class="id" title="var">require</span> <span class="id" title="var">gf2</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">saa</span> <span class="id" title="var">A'</span> <span class="id" title="var">X</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>).<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">gf2</span> ; <span class="id" title="tactic">intros</span> ; <span class="id" title="tactic">apply</span> <span class="id" title="var">lgss</span> ; <span class="id" title="tactic">unfold</span> <span class="id" title="keyword">measure</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">Plus.plus_lt_compat_r</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">Plus.plus_lt_compat_l</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">H</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">sumh_step2_tr_lem</span> <span class="id" title="var">U</span> <span class="id" title="var">W</span> <span class="id" title="var">fty</span> (<span class="id" title="var">rulesa</span> : <span class="id" title="var">rlsT</span> <span class="id" title="var">U</span>) (<span class="id" title="var">rulesb</span> : <span class="id" title="var">rlsT</span> <span class="id" title="var">W</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">P</span> : <span class="id" title="var">fty</span> -&gt; <span class="id" title="var">derrec_fc</span> <span class="id" title="var">rulesa</span> <span class="id" title="var">emptyT</span> -&gt; <span class="id" title="var">derrec_fc</span> <span class="id" title="var">rulesb</span> <span class="id" title="var">emptyT</span> -&gt; <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">A</span> : <span class="id" title="var">fty</span>) <span class="id" title="var">sub</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span> : <span class="id" title="var">AccT</span> <span class="id" title="var">sub</span> <span class="id" title="var">A</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">A</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span>, <span class="id" title="var">sumh_step2_tr</span> <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">sub</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span>) -&gt; <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">sumh_step2_tr</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">sum_step2_tr_lem</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">hs2_sumh</span> <span class="id" title="var">U</span> <span class="id" title="var">W</span> <span class="id" title="var">fty</span> <span class="id" title="var">rulesa</span> <span class="id" title="var">rulesb</span> <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">sub</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span>:<br/>
&nbsp;&nbsp;@<span class="id" title="var">height_step2_tr</span> <span class="id" title="var">U</span> <span class="id" title="var">W</span> <span class="id" title="var">fty</span> <span class="id" title="var">rulesa</span> <span class="id" title="var">rulesb</span> <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">sub</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span> -&gt;<br/>
&nbsp;&nbsp;@<span class="id" title="var">sumh_step2_tr</span> <span class="id" title="var">U</span> <span class="id" title="var">W</span> <span class="id" title="var">fty</span> <span class="id" title="var">rulesa</span> <span class="id" title="var">rulesb</span> <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">sub</span> <span class="id" title="var">dta</span> <span class="id" title="var">dtb</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">height_step2_tr</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">sumh_step2_tr</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">gf2_sum</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>

<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>