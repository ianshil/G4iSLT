<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>gen</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library gen</h1>

<div class="code">
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">List</span>.<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">ListNotations</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">rsub</span> <span class="id" title="var">U</span> <span class="id" title="var">V</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> := <span class="id" title="keyword">forall</span> (<span class="id" title="var">u</span> : <span class="id" title="var">U</span>) (<span class="id" title="var">v</span> : <span class="id" title="var">V</span>), <span class="id" title="var">f</span> <span class="id" title="var">u</span> <span class="id" title="var">v</span> -&gt; <span class="id" title="var">g</span> <span class="id" title="var">u</span> <span class="id" title="var">v</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">rsub_def</span>: <span class="id" title="keyword">forall</span> <span class="id" title="var">U</span> <span class="id" title="var">V</span> (<span class="id" title="var">f</span> <span class="id" title="var">g</span> : <span class="id" title="var">U</span> -&gt; <span class="id" title="var">V</span> -&gt; <span class="id" title="keyword">Type</span>), <br/>
&nbsp;&nbsp;@<span class="id" title="var">rsub</span> <span class="id" title="var">U</span> <span class="id" title="var">V</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> = <span class="id" title="keyword">forall</span> (<span class="id" title="var">u</span> : <span class="id" title="var">U</span>) (<span class="id" title="var">v</span> : <span class="id" title="var">V</span>), <span class="id" title="var">f</span> <span class="id" title="var">u</span> <span class="id" title="var">v</span> -&gt; <span class="id" title="var">g</span> <span class="id" title="var">u</span> <span class="id" title="var">v</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">rsub</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">rsub_trans</span> <span class="id" title="var">U</span> <span class="id" title="var">V</span> (<span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">h</span> : <span class="id" title="var">U</span> -&gt; <span class="id" title="var">V</span> -&gt; <span class="id" title="keyword">Type</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">rsub</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> -&gt; <span class="id" title="var">rsub</span> <span class="id" title="var">g</span> <span class="id" title="var">h</span> -&gt; <span class="id" title="var">rsub</span> <span class="id" title="var">f</span> <span class="id" title="var">h</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">rsub</span>. <span class="id" title="tactic">firstorder</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">rsub_id</span> <span class="id" title="var">U</span> <span class="id" title="var">V</span> (<span class="id" title="var">f</span> : <span class="id" title="var">U</span> -&gt; <span class="id" title="var">V</span> -&gt; <span class="id" title="keyword">Type</span>) : <span class="id" title="var">rsub</span> <span class="id" title="var">f</span> <span class="id" title="var">f</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">rsub</span>. <span class="id" title="tactic">firstorder</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">req</span> <span class="id" title="var">U</span> <span class="id" title="var">V</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> := <span class="id" title="var">prod</span> (@<span class="id" title="var">rsub</span> <span class="id" title="var">U</span> <span class="id" title="var">V</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>) (<span class="id" title="var">rsub</span> <span class="id" title="var">g</span> <span class="id" title="var">f</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">req_refl</span> <span class="id" title="var">U</span> <span class="id" title="var">V</span> <span class="id" title="var">f</span> : @<span class="id" title="var">req</span> <span class="id" title="var">U</span> <span class="id" title="var">V</span> <span class="id" title="var">f</span> <span class="id" title="var">f</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">req</span>. <span class="id" title="tactic">split</span> ; <span class="id" title="tactic">apply</span> <span class="id" title="var">rsub_id</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">req_sym</span> <span class="id" title="var">U</span> <span class="id" title="var">V</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> : @<span class="id" title="var">req</span> <span class="id" title="var">U</span> <span class="id" title="var">V</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> -&gt; @<span class="id" title="var">req</span> <span class="id" title="var">U</span> <span class="id" title="var">V</span> <span class="id" title="var">g</span> <span class="id" title="var">f</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">req</span>. <span class="id" title="tactic">tauto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">req_trans</span> <span class="id" title="var">U</span> <span class="id" title="var">V</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">h</span> : @<span class="id" title="var">req</span> <span class="id" title="var">U</span> <span class="id" title="var">V</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> -&gt; @<span class="id" title="var">req</span> <span class="id" title="var">U</span> <span class="id" title="var">V</span> <span class="id" title="var">g</span> <span class="id" title="var">h</span> -&gt; @<span class="id" title="var">req</span> <span class="id" title="var">U</span> <span class="id" title="var">V</span> <span class="id" title="var">f</span> <span class="id" title="var">h</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">req</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">F</span> <span class="id" title="var">B</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">F</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">B</span>.<br/>
<span class="id" title="tactic">split</span> ; <span class="id" title="tactic">eapply</span> <span class="id" title="var">rsub_trans</span> ; <span class="id" title="var">eassumption</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">rls</span> <span class="id" title="var">W</span> := <span class="id" title="var">list</span> <span class="id" title="var">W</span> -&gt; <span class="id" title="var">W</span> -&gt; <span class="id" title="keyword">Prop</span>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">or_false</span>: <span class="id" title="keyword">forall</span> <span class="id" title="var">P</span> : <span class="id" title="keyword">Prop</span>, <span class="id" title="var">iff</span> (<span class="id" title="var">or</span> <span class="id" title="var">P</span> <span class="id" title="var">False</span>) <span class="id" title="var">P</span>. <span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">tauto</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">false_or</span>: <span class="id" title="keyword">forall</span> <span class="id" title="var">P</span> : <span class="id" title="keyword">Prop</span>, <span class="id" title="var">iff</span> (<span class="id" title="var">or</span> <span class="id" title="var">False</span> <span class="id" title="var">P</span>) <span class="id" title="var">P</span>. <span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">tauto</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">and_true</span>: <span class="id" title="keyword">forall</span> <span class="id" title="var">P</span> : <span class="id" title="keyword">Prop</span>, <span class="id" title="var">iff</span> (<span class="id" title="var">and</span> <span class="id" title="var">P</span> <span class="id" title="var">True</span>) <span class="id" title="var">P</span>. <span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">tauto</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">true_and</span>: <span class="id" title="keyword">forall</span> <span class="id" title="var">P</span> : <span class="id" title="keyword">Prop</span>, <span class="id" title="var">iff</span> (<span class="id" title="var">and</span> <span class="id" title="var">True</span> <span class="id" title="var">P</span>) <span class="id" title="var">P</span>. <span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">tauto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">rappl</span>: <span class="id" title="keyword">forall</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Prop</span>), <span class="id" title="var">A</span> -&gt; (<span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) -&gt; <span class="id" title="var">B</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">tauto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">appl</span>: <span class="id" title="keyword">forall</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Prop</span>), (<span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) -&gt; <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">tauto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">gen_cong</span>: <span class="id" title="keyword">forall</span> <span class="id" title="var">T</span> <span class="id" title="var">U</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>, <span class="id" title="var">f</span> = <span class="id" title="var">g</span> -&gt; <br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <span class="id" title="var">x</span> = <span class="id" title="var">y</span> -&gt; (<span class="id" title="var">f</span> (<span class="id" title="var">x</span> : <span class="id" title="var">U</span>) : <span class="id" title="var">T</span>) = <span class="id" title="var">g</span> <span class="id" title="var">y</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">fun_cong</span>: <span class="id" title="keyword">forall</span> <span class="id" title="var">T</span> <span class="id" title="var">U</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>, <span class="id" title="var">f</span> = <span class="id" title="var">g</span> -&gt; <br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, (<span class="id" title="var">f</span> (<span class="id" title="var">x</span> : <span class="id" title="var">U</span>) : <span class="id" title="var">T</span>) = <span class="id" title="var">g</span> <span class="id" title="var">x</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">arg_cong</span>: <span class="id" title="keyword">forall</span> <span class="id" title="var">T</span> <span class="id" title="var">U</span> <span class="id" title="var">f</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <span class="id" title="var">x</span> = <span class="id" title="var">y</span> -&gt; (<span class="id" title="var">f</span> (<span class="id" title="var">x</span> : <span class="id" title="var">U</span>) : <span class="id" title="var">T</span>) = <span class="id" title="var">f</span> <span class="id" title="var">y</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">arg_cong_imp</span>: <span class="id" title="keyword">forall</span> <span class="id" title="var">U</span> <span class="id" title="var">f</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <span class="id" title="var">x</span> = <span class="id" title="var">y</span> -&gt; <span class="id" title="var">f</span> (<span class="id" title="var">x</span> : <span class="id" title="var">U</span>) -&gt; <span class="id" title="var">f</span> <span class="id" title="var">y</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">assumption</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">arg_cong_imp'</span>: <span class="id" title="keyword">forall</span> <span class="id" title="var">U</span> <span class="id" title="var">f</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <span class="id" title="var">f</span> (<span class="id" title="var">x</span> : <span class="id" title="var">U</span>) -&gt; <span class="id" title="var">x</span> = <span class="id" title="var">y</span> -&gt; <span class="id" title="var">f</span> <span class="id" title="var">y</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">assumption</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">arg1_cong_imp</span>: <span class="id" title="keyword">forall</span> <span class="id" title="var">U</span> <span class="id" title="var">V</span> <span class="id" title="var">f</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>, <span class="id" title="var">x</span> = <span class="id" title="var">y</span> -&gt; <span class="id" title="var">f</span> (<span class="id" title="var">x</span> : <span class="id" title="var">U</span>) (<span class="id" title="var">z</span> : <span class="id" title="var">V</span>) -&gt; <span class="id" title="var">f</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">assumption</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">arg1_cong_imp'</span>: <span class="id" title="keyword">forall</span> <span class="id" title="var">U</span> <span class="id" title="var">V</span> <span class="id" title="var">f</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>, <span class="id" title="var">f</span> (<span class="id" title="var">x</span> : <span class="id" title="var">U</span>) (<span class="id" title="var">z</span> : <span class="id" title="var">V</span>) -&gt; <span class="id" title="var">x</span> = <span class="id" title="var">y</span> -&gt; <span class="id" title="var">f</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">assumption</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">iffD1</span>: <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, (<span class="id" title="var">x</span> = <span class="id" title="var">y</span>) -&gt; <span class="id" title="var">x</span> -&gt; <span class="id" title="var">y</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">assumption</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">iffD2</span>: <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, (<span class="id" title="var">x</span> = <span class="id" title="var">y</span>) -&gt; <span class="id" title="var">y</span> -&gt; <span class="id" title="var">x</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">assumption</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">PiffD1</span>: <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, (<span class="id" title="var">x</span> &lt;-&gt; <span class="id" title="var">y</span>) -&gt; <span class="id" title="var">x</span> -&gt; <span class="id" title="var">y</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">assumption</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">PiffD2</span>: <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, (<span class="id" title="var">x</span> &lt;-&gt; <span class="id" title="var">y</span>) -&gt; <span class="id" title="var">y</span> -&gt; <span class="id" title="var">x</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">assumption</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">eq_TrueI</span>: <span class="id" title="keyword">forall</span> (<span class="id" title="var">P</span> : <span class="id" title="keyword">Prop</span>), (<span class="id" title="var">P</span> -&gt; (<span class="id" title="var">P</span> &lt;-&gt; <span class="id" title="var">True</span>)).<br/>
<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">iff</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">conj</span> ; <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">I</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">rsub_imp</span> <span class="id" title="var">U</span> <span class="id" title="var">V</span> (<span class="id" title="var">f</span> <span class="id" title="var">g</span> : <span class="id" title="var">U</span> -&gt; <span class="id" title="var">V</span> -&gt; <span class="id" title="keyword">Type</span>) := <span class="id" title="var">iffD1</span> (@<span class="id" title="var">rsub_def</span> <span class="id" title="var">U</span> <span class="id" title="var">V</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>).<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">rsubI</span> <span class="id" title="var">U</span> <span class="id" title="var">V</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> := <span class="id" title="var">iffD2</span> (@<span class="id" title="var">rsub_def</span> <span class="id" title="var">U</span> <span class="id" title="var">V</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>).<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">rsubD</span> <span class="id" title="var">U</span> <span class="id" title="var">V</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> := <span class="id" title="var">iffD1</span> (@<span class="id" title="var">rsub_def</span> <span class="id" title="var">U</span> <span class="id" title="var">V</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>).<br/>

<br/>

<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">refl_ni</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ |- ?<span class="id" title="var">P</span> = ?<span class="id" title="var">P</span> ] =&gt; <span class="id" title="tactic">reflexivity</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">pair_eqI</span>: <span class="id" title="keyword">forall</span> <span class="id" title="var">T</span> <span class="id" title="var">U</span> (<span class="id" title="var">u</span> <span class="id" title="var">v</span> : <span class="id" title="var">T</span>) (<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">U</span>),<br/>
&nbsp;&nbsp;<span class="id" title="var">u</span> = <span class="id" title="var">v</span> -&gt; <span class="id" title="var">x</span> = <span class="id" title="var">y</span> -&gt; (<span class="id" title="var">u</span>,<span class="id" title="var">x</span>) = (<span class="id" title="var">v</span>,<span class="id" title="var">y</span>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">rename_last</span> <span class="id" title="var">name</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">K</span> : <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt; <span class="id" title="tactic">rename</span> <span class="id" title="var">K</span> <span class="id" title="var">into</span> <span class="id" title="var">name</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">clear_one</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">K</span> : <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt; <span class="id" title="tactic">clear</span> <span class="id" title="var">K</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">cE</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="var">_</span> /\ <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt; <span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="var">ex</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt; <span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="var">False</span> |- <span class="id" title="var">_</span> ] =&gt; <span class="id" title="var">contradiction</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">cD'</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="var">_</span> /\ <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [?<span class="id" title="var">H</span> ?<span class="id" title="var">H</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="var">prod</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [?<span class="id" title="var">H</span> ?<span class="id" title="var">H</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="var">ex</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [?<span class="id" title="var">H</span> ?<span class="id" title="var">H</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="var">sig</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [?<span class="id" title="var">H</span> ?<span class="id" title="var">H</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="var">sigT</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [?<span class="id" title="var">H</span> ?<span class="id" title="var">H</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="var">ex2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [?<span class="id" title="var">H</span> ?<span class="id" title="var">H</span> ?<span class="id" title="var">H</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="var">sig2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [?<span class="id" title="var">H</span> ?<span class="id" title="var">H</span> ?<span class="id" title="var">H</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="var">sigT2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [?<span class="id" title="var">H</span> ?<span class="id" title="var">H</span> ?<span class="id" title="var">H</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="var">False</span> |- <span class="id" title="var">_</span> ] =&gt; <span class="id" title="var">contradiction</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">cD</span> := <span class="id" title="tactic">repeat</span> <span class="id" title="var">cD'</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">sE</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="var">_</span> /\ <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt; <span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="var">_</span> \/ <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt; <span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="var">ex</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt; <span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="var">False</span> |- <span class="id" title="var">_</span> ] =&gt; <span class="id" title="var">contradiction</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">sD'</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="var">_</span> /\ <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [?<span class="id" title="var">H</span> ?<span class="id" title="var">H</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="var">prod</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [?<span class="id" title="var">H</span> ?<span class="id" title="var">H</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="var">_</span> \/ <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [?<span class="id" title="var">H</span> | ?<span class="id" title="var">H</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="var">sumbool</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [?<span class="id" title="var">H</span> | ?<span class="id" title="var">H</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="var">sum</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [?<span class="id" title="var">H</span> | ?<span class="id" title="var">H</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="var">ex</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [?<span class="id" title="var">H</span> ?<span class="id" title="var">H</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="var">sig</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [?<span class="id" title="var">H</span> ?<span class="id" title="var">H</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="var">sigT</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [?<span class="id" title="var">H</span> ?<span class="id" title="var">H</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="var">False</span> |- <span class="id" title="var">_</span> ] =&gt; <span class="id" title="var">contradiction</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">sDx</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="var">_</span> \/ <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [?<span class="id" title="var">H</span> | ?<span class="id" title="var">H</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="var">sumbool</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [?<span class="id" title="var">H</span> | ?<span class="id" title="var">H</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="var">sum</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [?<span class="id" title="var">H</span> | ?<span class="id" title="var">H</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">sD</span> := <span class="id" title="tactic">repeat</span> (<span class="id" title="var">cD'</span> || <span class="id" title="var">sDx</span>).<br/>

<br/>

<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">require</span> <span class="id" title="var">H</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">H</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="keyword">forall</span> <span class="id" title="var">_</span>  : ?<span class="id" title="var">H1</span>, <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">x</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">y</span> := <span class="id" title="var">x</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> <span class="id" title="var">x</span>; [| <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">x</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">y</span>]<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">erequire</span> <span class="id" title="var">H</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">H</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="keyword">forall</span> <span class="id" title="var">_</span>  : ?<span class="id" title="var">H1</span>, <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">x</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">evar</span> (<span class="id" title="var">x</span> : <span class="id" title="var">H1</span>); <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">x</span>); <span class="id" title="tactic">subst</span> <span class="id" title="var">x</span><br/>
<span class="id" title="keyword">end</span>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">specialize_full</span> <span class="id" title="var">H</span> := <br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">foo</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">evar</span> (<span class="id" title="var">foo</span> : <span class="id" title="keyword">Prop</span>); <span class="id" title="tactic">cut</span> (<span class="id" title="var">foo</span>); <span class="id" title="tactic">subst</span> <span class="id" title="var">foo</span>; <span class="id" title="var">cycle</span> 1;<br/>
&nbsp;&nbsp;[<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>|<span class="id" title="tactic">try</span> <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>].<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">prgt</span> <span class="id" title="var">t</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ |- ?<span class="id" title="var">P</span> ] =&gt; <span class="id" title="tactic">idtac</span> <span class="id" title="var">t</span> <span class="id" title="var">P</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">in_single</span>: <span class="id" title="keyword">forall</span> (<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">a</span> <span class="id" title="var">x</span> : <span class="id" title="var">A</span>), <span class="id" title="var">In</span> <span class="id" title="var">a</span> [<span class="id" title="var">x</span>] &lt;-&gt; <span class="id" title="var">a</span> = <span class="id" title="var">x</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">iff</span>. <span class="id" title="tactic">split</span> ; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">in_inv</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">sD</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">in_nil</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">in_eq</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">Forall_cons_inv</span>: <span class="id" title="keyword">forall</span> <span class="id" title="var">A</span> (<span class="id" title="var">P</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Prop</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">A</span>) (<span class="id" title="var">l</span> : <span class="id" title="var">list</span> <span class="id" title="var">A</span>),<br/>
&nbsp;&nbsp;<span class="id" title="var">Forall</span> <span class="id" title="var">P</span> (<span class="id" title="var">x</span> :: <span class="id" title="var">l</span>) -&gt; <span class="id" title="var">P</span> <span class="id" title="var">x</span> /\ <span class="id" title="var">Forall</span> <span class="id" title="var">P</span> <span class="id" title="var">l</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">tauto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">Forall_cons_iff</span>: <span class="id" title="keyword">forall</span> <span class="id" title="var">A</span> (<span class="id" title="var">P</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Prop</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">A</span>) (<span class="id" title="var">l</span> : <span class="id" title="var">list</span> <span class="id" title="var">A</span>),<br/>
&nbsp;&nbsp;<span class="id" title="var">Forall</span> <span class="id" title="var">P</span> (<span class="id" title="var">x</span> :: <span class="id" title="var">l</span>) &lt;-&gt; <span class="id" title="var">P</span> <span class="id" title="var">x</span> /\ <span class="id" title="var">Forall</span> <span class="id" title="var">P</span> <span class="id" title="var">l</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">iff</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">conj</span> ; <span class="id" title="tactic">intro</span>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">Forall_cons_inv</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Forall_cons</span> ; <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">Forall_append</span>: <span class="id" title="keyword">forall</span> <span class="id" title="var">X</span> <span class="id" title="var">P</span> (<span class="id" title="var">xs</span> <span class="id" title="var">ys</span>: <span class="id" title="var">list</span> <span class="id" title="var">X</span>),<br/>
&nbsp;&nbsp;<span class="id" title="var">Forall</span> <span class="id" title="var">P</span> (<span class="id" title="var">xs</span> ++ <span class="id" title="var">ys</span>) &lt;-&gt; <span class="id" title="var">Forall</span> <span class="id" title="var">P</span> <span class="id" title="var">xs</span> /\ <span class="id" title="var">Forall</span> <span class="id" title="var">P</span> <span class="id" title="var">ys</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">xs</span>. <span class="id" title="var">easy</span>.<br/>
<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> !<span class="id" title="var">Forall_cons_iff</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHxs</span>. <span class="id" title="tactic">tauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">Forall_single</span>: <span class="id" title="keyword">forall</span> (<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>) <span class="id" title="var">P</span> <span class="id" title="var">x</span>, @<span class="id" title="var">Forall</span> <span class="id" title="var">A</span> <span class="id" title="var">P</span> [<span class="id" title="var">x</span>] &lt;-&gt; <span class="id" title="var">P</span> <span class="id" title="var">x</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">iff</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Forall_forall</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span> ; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">in_single</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">in_nil</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="var">contradiction</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">Forall_map_single</span>: <span class="id" title="keyword">forall</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>) <span class="id" title="var">P</span> (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) <span class="id" title="var">x</span>, <br/>
&nbsp;&nbsp;<span class="id" title="var">Forall</span> <span class="id" title="var">P</span> (<span class="id" title="var">map</span> <span class="id" title="var">f</span> [<span class="id" title="var">x</span>]) &lt;-&gt; <span class="id" title="var">P</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Forall_single</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">Forall_map_2</span>: <span class="id" title="keyword">forall</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>) <span class="id" title="var">P</span> (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <br/>
&nbsp;&nbsp;<span class="id" title="var">Forall</span> <span class="id" title="var">P</span> (<span class="id" title="var">map</span> <span class="id" title="var">f</span> [<span class="id" title="var">x</span>; <span class="id" title="var">y</span>]) &lt;-&gt; <span class="id" title="var">P</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span>) /\ <span class="id" title="var">P</span> (<span class="id" title="var">f</span> <span class="id" title="var">y</span>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Forall_forall</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">iff</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">H</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span>)). <span class="id" title="tactic">apply</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">in_map_iff</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">H</span> (<span class="id" title="var">f</span> <span class="id" title="var">y</span>)). <span class="id" title="tactic">apply</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">in_map_iff</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">in_map_iff</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="var">cD</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">sD</span> ; <span class="id" title="tactic">subst</span> ; <span class="id" title="tactic">assumption</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">map_cons_ex</span> <span class="id" title="var">T</span> <span class="id" title="var">U</span> (<span class="id" title="var">f</span> : <span class="id" title="var">T</span> -&gt; <span class="id" title="var">U</span>) <span class="id" title="var">ys</span> <span class="id" title="var">x</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">ws</span>,<br/>
&nbsp;&nbsp;<span class="id" title="var">map</span> <span class="id" title="var">f</span> <span class="id" title="var">ws</span> = <span class="id" title="var">x</span> :: <span class="id" title="var">ys</span> -&gt; {<span class="id" title="var">u</span> : <span class="id" title="var">T</span> &amp; <span class="id" title="var">x</span> = <span class="id" title="var">f</span> <span class="id" title="var">u</span> &amp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">vs</span> : <span class="id" title="var">list</span> <span class="id" title="var">_</span> &amp; <span class="id" title="var">ys</span> = <span class="id" title="var">map</span> <span class="id" title="var">f</span> <span class="id" title="var">vs</span> &amp; <span class="id" title="var">ws</span> = <span class="id" title="var">u</span> :: <span class="id" title="var">vs</span>}}.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">ws</span> ; <span class="id" title="tactic">simpl</span> ; <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">discriminate</span>.<br/>
<span class="id" title="tactic">injection</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> . <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">t</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="tactic">exists</span> <span class="id" title="var">ws</span> ; <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">map_cons_ex'</span> <span class="id" title="var">T</span> <span class="id" title="var">U</span> (<span class="id" title="var">f</span> : <span class="id" title="var">T</span> -&gt; <span class="id" title="var">U</span>) <span class="id" title="var">ys</span> <span class="id" title="var">x</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">ws</span>,<br/>
&nbsp;&nbsp;<span class="id" title="var">map</span> <span class="id" title="var">f</span> <span class="id" title="var">ws</span> = <span class="id" title="var">x</span> :: <span class="id" title="var">ys</span> -&gt; {<span class="id" title="var">u</span> : <span class="id" title="var">T</span> &amp; <span class="id" title="var">x</span> = <span class="id" title="var">f</span> <span class="id" title="var">u</span> &amp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">vs</span> : <span class="id" title="var">list</span> <span class="id" title="var">_</span> &amp; <span class="id" title="var">map</span> <span class="id" title="var">f</span> <span class="id" title="var">vs</span> = <span class="id" title="var">ys</span> &amp; <span class="id" title="var">ws</span> = <span class="id" title="var">u</span> :: <span class="id" title="var">vs</span>}}.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">ws</span> <span class="id" title="var">meq</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">map_cons_ex</span> <span class="id" title="tactic">in</span> <span class="id" title="var">meq</span>. <span class="id" title="var">cD</span>.<br/>
<span class="id" title="tactic">exists</span> <span class="id" title="var">meq</span>. <span class="id" title="tactic">assumption</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">meq1</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">assumption</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">map_app_ex</span> <span class="id" title="var">T</span> <span class="id" title="var">U</span> (<span class="id" title="var">f</span> : <span class="id" title="var">T</span> -&gt; <span class="id" title="var">U</span>) <span class="id" title="var">ys</span> <span class="id" title="var">xs</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">ws</span>,<br/>
&nbsp;&nbsp;<span class="id" title="var">map</span> <span class="id" title="var">f</span> <span class="id" title="var">ws</span> = <span class="id" title="var">xs</span> ++ <span class="id" title="var">ys</span> -&gt; {<span class="id" title="var">us</span> : <span class="id" title="var">_</span> &amp; <span class="id" title="var">map</span> <span class="id" title="var">f</span> <span class="id" title="var">us</span> = <span class="id" title="var">xs</span> &amp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">vs</span> : <span class="id" title="var">_</span> &amp; <span class="id" title="var">map</span> <span class="id" title="var">f</span> <span class="id" title="var">vs</span> = <span class="id" title="var">ys</span> &amp; <span class="id" title="var">ws</span> = <span class="id" title="var">us</span> ++ <span class="id" title="var">vs</span>}}.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">xs</span> ; <span class="id" title="tactic">simpl</span> ; <span class="id" title="tactic">intros</span>.<br/>
<span class="id" title="tactic">exists</span> []. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">ws</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">map_cons_ex</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">subst</span>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">eq_sym</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e0</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHxs</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">e0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">subst</span>.<br/>
<span class="id" title="tactic">exists</span> (<span class="id" title="var">x</span> :: <span class="id" title="var">x1</span>). <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">x2</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">map_eq_nil</span> <span class="id" title="var">T</span> <span class="id" title="var">U</span> (<span class="id" title="var">f</span> : <span class="id" title="var">T</span> -&gt; <span class="id" title="var">U</span>) <span class="id" title="var">xs</span> : <span class="id" title="var">map</span> <span class="id" title="var">f</span> <span class="id" title="var">xs</span> = [] -&gt; <span class="id" title="var">xs</span> = [].<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">mx</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">xs</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">mx</span>. <span class="id" title="tactic">discriminate</span> <span class="id" title="var">mx</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">name_goal</span> <span class="id" title="var">name</span> := <span class="id" title="tactic">refine</span> ?[<span class="id" title="var">name</span>].<br/>

<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>